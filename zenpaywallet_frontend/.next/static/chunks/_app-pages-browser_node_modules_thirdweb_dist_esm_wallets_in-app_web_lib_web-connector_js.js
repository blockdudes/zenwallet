"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_thirdweb_dist_esm_wallets_in-app_web_lib_web-connector_js"],{

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/actions/eth_sendRawTransaction.js":
/*!******************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/rpc/actions/eth_sendRawTransaction.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   eth_sendRawTransaction: function() { return /* binding */ eth_sendRawTransaction; }\n/* harmony export */ });\n/**\n * Sends a raw transaction to the Ethereum network.\n * @param request - The EIP1193 request function.\n * @param signedTransaction - The signed transaction in hex format.\n * @returns A promise that resolves to the transaction hash.\n * @rpc\n * @example\n * ```ts\n * import { getRpcClient, eth_sendRawTransaction } from \"thirdweb/rpc\";\n * const rpcRequest = getRpcClient({ client, chain });\n * const transactionHash = await eth_sendRawTransaction(rpcRequest, \"0x...\");\n * ```\n */\nasync function eth_sendRawTransaction(request, signedTransaction) {\n    return await request({\n        method: \"eth_sendRawTransaction\",\n        params: [signedTransaction],\n    });\n}\n//# sourceMappingURL=eth_sendRawTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS9ycGMvYWN0aW9ucy9ldGhfc2VuZFJhd1RyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1Q0FBdUM7QUFDbkQscUNBQXFDLGVBQWU7QUFDcEQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vcnBjL2FjdGlvbnMvZXRoX3NlbmRSYXdUcmFuc2FjdGlvbi5qcz9hNWE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2VuZHMgYSByYXcgdHJhbnNhY3Rpb24gdG8gdGhlIEV0aGVyZXVtIG5ldHdvcmsuXG4gKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSBFSVAxMTkzIHJlcXVlc3QgZnVuY3Rpb24uXG4gKiBAcGFyYW0gc2lnbmVkVHJhbnNhY3Rpb24gLSBUaGUgc2lnbmVkIHRyYW5zYWN0aW9uIGluIGhleCBmb3JtYXQuXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNhY3Rpb24gaGFzaC5cbiAqIEBycGNcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZ2V0UnBjQ2xpZW50LCBldGhfc2VuZFJhd1RyYW5zYWN0aW9uIH0gZnJvbSBcInRoaXJkd2ViL3JwY1wiO1xuICogY29uc3QgcnBjUmVxdWVzdCA9IGdldFJwY0NsaWVudCh7IGNsaWVudCwgY2hhaW4gfSk7XG4gKiBjb25zdCB0cmFuc2FjdGlvbkhhc2ggPSBhd2FpdCBldGhfc2VuZFJhd1RyYW5zYWN0aW9uKHJwY1JlcXVlc3QsIFwiMHguLi5cIik7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV0aF9zZW5kUmF3VHJhbnNhY3Rpb24ocmVxdWVzdCwgc2lnbmVkVHJhbnNhY3Rpb24pIHtcbiAgICByZXR1cm4gYXdhaXQgcmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogXCJldGhfc2VuZFJhd1RyYW5zYWN0aW9uXCIsXG4gICAgICAgIHBhcmFtczogW3NpZ25lZFRyYW5zYWN0aW9uXSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV0aF9zZW5kUmF3VHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/actions/eth_sendRawTransaction.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/ecosystem/get-ecosystem-partner-permissions.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/ecosystem/get-ecosystem-partner-permissions.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEcosystemPartnerPermissions: function() { return /* binding */ getEcosystemPartnerPermissions; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n\nconst getEcosystemPartnerPermissions = async (ecosystemId, partnerId) => {\n    const res = await fetch(`${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/2024-05-05/ecosystem-wallet/${ecosystemId}/partner/${partnerId}`, {\n        headers: {\n            \"x-ecosystem-id\": ecosystemId,\n            \"x-ecosystem-partner-id\": partnerId || \"\",\n        },\n    });\n    const data = (await res.json());\n    return data;\n};\n//# sourceMappingURL=get-ecosystem-partner-permissions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2Vjb3N5c3RlbS9nZXQtZWNvc3lzdGVtLXBhcnRuZXItcGVybWlzc2lvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEQ7QUFDckQ7QUFDUCwrQkFBK0IscUVBQWtCLGdCQUFnQixtQ0FBbUMsWUFBWSxXQUFXLFVBQVU7QUFDckk7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9lY29zeXN0ZW0vZ2V0LWVjb3N5c3RlbS1wYXJ0bmVyLXBlcm1pc3Npb25zLmpzPzhhMmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VGhpcmR3ZWJCYXNlVXJsIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2RvbWFpbnMuanNcIjtcbmV4cG9ydCBjb25zdCBnZXRFY29zeXN0ZW1QYXJ0bmVyUGVybWlzc2lvbnMgPSBhc3luYyAoZWNvc3lzdGVtSWQsIHBhcnRuZXJJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke2dldFRoaXJkd2ViQmFzZVVybChcImluQXBwV2FsbGV0XCIpfS9hcGkvMjAyNC0wNS0wNS9lY29zeXN0ZW0td2FsbGV0LyR7ZWNvc3lzdGVtSWR9L3BhcnRuZXIvJHtwYXJ0bmVySWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIngtZWNvc3lzdGVtLWlkXCI6IGVjb3N5c3RlbUlkLFxuICAgICAgICAgICAgXCJ4LWVjb3N5c3RlbS1wYXJ0bmVyLWlkXCI6IHBhcnRuZXJJZCB8fCBcIlwiLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgcmVzLmpzb24oKSk7XG4gICAgcmV0dXJuIGRhdGE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LWVjb3N5c3RlbS1wYXJ0bmVyLXBlcm1pc3Npb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/ecosystem/get-ecosystem-partner-permissions.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractLogin: function() { return /* binding */ AbstractLogin; }\n/* harmony export */ });\n/**\n * @internal\n */\nclass AbstractLogin {\n    /**\n     * Used to manage the user's auth states. This should not be instantiated directly.\n     * @internal\n     */\n    constructor({ baseUrl, querier, preLogin, postLogin, client, ecosystem, }) {\n        Object.defineProperty(this, \"LoginQuerier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"preLogin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"postLogin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"baseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.baseUrl = baseUrl;\n        this.LoginQuerier = querier;\n        this.preLogin = preLogin;\n        this.postLogin = postLogin;\n        this.client = client;\n        this.ecosystem = ecosystem;\n    }\n    /**\n     * @internal\n     */\n    async sendEmailLoginOtp({ email, }) {\n        await this.preLogin();\n        const result = await this.LoginQuerier.call({\n            procedureName: \"sendThirdwebEmailLoginOtp\",\n            params: { email },\n        });\n        return result;\n    }\n    /**\n     *\n     * @internal\n     */\n    async sendSmsLoginOtp({ phoneNumber, }) {\n        await this.preLogin();\n        const result = await this.LoginQuerier.call({\n            procedureName: \"sendThirdwebSmsLoginOtp\",\n            params: { phoneNumber },\n        });\n        return result;\n    }\n}\n//# sourceMappingURL=abstract-login.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvYWJzdHJhY3QtbG9naW4uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMkRBQTJEO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixjQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixhQUFhO0FBQ25DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvd2ViL2xpYi9hdXRoL2Fic3RyYWN0LWxvZ2luLmpzPzhmYWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIEFic3RyYWN0TG9naW4ge1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gbWFuYWdlIHRoZSB1c2VyJ3MgYXV0aCBzdGF0ZXMuIFRoaXMgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBxdWVyaWVyLCBwcmVMb2dpbiwgcG9zdExvZ2luLCBjbGllbnQsIGVjb3N5c3RlbSwgfSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJMb2dpblF1ZXJpZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJlTG9naW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicG9zdExvZ2luXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJiYXNlVXJsXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVjb3N5c3RlbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgICAgICB0aGlzLkxvZ2luUXVlcmllciA9IHF1ZXJpZXI7XG4gICAgICAgIHRoaXMucHJlTG9naW4gPSBwcmVMb2dpbjtcbiAgICAgICAgdGhpcy5wb3N0TG9naW4gPSBwb3N0TG9naW47XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgICAgICB0aGlzLmVjb3N5c3RlbSA9IGVjb3N5c3RlbTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgc2VuZEVtYWlsTG9naW5PdHAoeyBlbWFpbCwgfSkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJzZW5kVGhpcmR3ZWJFbWFpbExvZ2luT3RwXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHsgZW1haWwgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgc2VuZFNtc0xvZ2luT3RwKHsgcGhvbmVOdW1iZXIsIH0pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVMb2dpbigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLkxvZ2luUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwic2VuZFRoaXJkd2ViU21zTG9naW5PdHBcIixcbiAgICAgICAgICAgIHBhcmFtczogeyBwaG9uZU51bWJlciB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hYnN0cmFjdC1sb2dpbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseLogin: function() { return /* binding */ BaseLogin; }\n/* harmony export */ });\n/* harmony import */ var _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authentication/type.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/type.js\");\n/* harmony import */ var _abstract_login_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-login.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js\");\n\n\n/**\n *\n */\nclass BaseLogin extends _abstract_login_js__WEBPACK_IMPORTED_MODULE_0__.AbstractLogin {\n    constructor() {\n        super(...arguments);\n        Object.defineProperty(this, \"closeWindow\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: ({ isWindowOpenedByFn, win, closeOpenedWindow, }) => {\n                if (isWindowOpenedByFn) {\n                    win?.close();\n                }\n                else {\n                    if (win && closeOpenedWindow) {\n                        closeOpenedWindow(win);\n                    }\n                    else if (win) {\n                        win.close();\n                    }\n                }\n            }\n        });\n    }\n    async getOauthLoginUrl(authProvider) {\n        try {\n            const result = await this.LoginQuerier.call({\n                procedureName: \"getHeadlessOauthLoginLink\",\n                params: { authProvider },\n            });\n            return result;\n        }\n        catch (e) {\n            console.error(e);\n            throw e;\n        }\n    }\n    /**\n     * @internal\n     */\n    async loginWithModal() {\n        await this.preLogin();\n        const result = await this.LoginQuerier.call({\n            procedureName: \"loginWithThirdwebModal\",\n            params: undefined,\n            showIframe: true,\n        });\n        return this.postLogin(result);\n    }\n    /**\n     * @internal\n     */\n    async loginWithEmailOtp({ email, }) {\n        await this.preLogin();\n        const result = await this.LoginQuerier.call({\n            procedureName: \"loginWithThirdwebModal\",\n            params: { email },\n            showIframe: true,\n        });\n        return this.postLogin(result);\n    }\n    getOauthPopUpSizing(authProvider) {\n        switch (authProvider) {\n            case _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_1__.AuthProvider.FACEBOOK:\n                return \"width=715, height=555\";\n            default:\n                return \"width=350, height=500\";\n        }\n    }\n    /**\n     * @internal\n     */\n    async loginWithOauth(args) {\n        let win = args?.openedWindow;\n        let isWindowOpenedByFn = false;\n        if (!win) {\n            win = window.open(\"\", \"Login\", this.getOauthPopUpSizing(args.oauthProvider));\n            isWindowOpenedByFn = true;\n        }\n        if (!win) {\n            throw new Error(\"Something went wrong opening pop-up\");\n        }\n        // logout the user\n        // fetch the url to open the login window from iframe\n        const [{ loginLink }] = await Promise.all([\n            this.getOauthLoginUrl(args.oauthProvider),\n            this.preLogin(),\n        ]);\n        win.location.href = loginLink;\n        // listen to result from the login window\n        const result = await new Promise((resolve, reject) => {\n            // detect when the user closes the login window\n            const pollTimer = window.setInterval(async () => {\n                if (!win) {\n                    return;\n                }\n                if (win.closed) {\n                    clearInterval(pollTimer);\n                    window.removeEventListener(\"message\", messageListener);\n                    reject(new Error(\"User closed login window\"));\n                }\n            }, 1000);\n            const messageListener = async (event) => {\n                if (event.origin !== this.baseUrl) {\n                    return;\n                }\n                if (typeof event.data !== \"object\") {\n                    reject(new Error(\"Invalid event data\"));\n                    return;\n                }\n                switch (event.data.eventType) {\n                    case \"userLoginSuccess\": {\n                        window.removeEventListener(\"message\", messageListener);\n                        clearInterval(pollTimer);\n                        this.closeWindow({\n                            isWindowOpenedByFn,\n                            win,\n                            closeOpenedWindow: args?.closeOpenedWindow,\n                        });\n                        if (event.data.authResult) {\n                            resolve(event.data.authResult);\n                        }\n                        break;\n                    }\n                    case \"userLoginFailed\": {\n                        window.removeEventListener(\"message\", messageListener);\n                        clearInterval(pollTimer);\n                        this.closeWindow({\n                            isWindowOpenedByFn,\n                            win,\n                            closeOpenedWindow: args?.closeOpenedWindow,\n                        });\n                        reject(new Error(event.data.error));\n                        break;\n                    }\n                    case \"injectDeveloperClientId\": {\n                        win?.postMessage({\n                            eventType: \"injectDeveloperClientIdResult\",\n                            developerClientId: this.client.clientId,\n                            authOption: args.oauthProvider,\n                            partnerId: this.ecosystem?.partnerId,\n                            ecosystemId: this.ecosystem?.id,\n                        }, this.baseUrl);\n                        break;\n                    }\n                }\n            };\n            window.addEventListener(\"message\", messageListener);\n        });\n        return this.postLogin({\n            storedToken: { ...result.storedToken, shouldStoreCookieString: true },\n            walletDetails: { ...result.walletDetails, isIframeStorageEnabled: false },\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomJwt({ encryptionKey, jwt, }) {\n        await this.preLogin();\n        const result = await this.LoginQuerier.call({\n            procedureName: \"loginWithCustomJwt\",\n            params: { encryptionKey, jwt },\n        });\n        return this.postLogin(result);\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomAuthEndpoint({ encryptionKey, payload, }) {\n        await this.preLogin();\n        const result = await this.LoginQuerier.call({\n            procedureName: \"loginWithCustomAuthEndpoint\",\n            params: { encryptionKey, payload },\n        });\n        return this.postLogin(result);\n    }\n    /**\n     * @internal\n     */\n    async verifyEmailLoginOtp({ email, otp, recoveryCode, }) {\n        const result = await this.LoginQuerier.call({\n            procedureName: \"verifyThirdwebEmailLoginOtp\",\n            params: { email, otp, recoveryCode },\n        });\n        return this.postLogin(result);\n    }\n    /**\n     * @internal\n     */\n    async verifySmsLoginOtp({ phoneNumber, otp, recoveryCode, }) {\n        const result = await this.LoginQuerier.call({\n            procedureName: \"verifyThirdwebSmsLoginOtp\",\n            params: { phoneNumber, otp, recoveryCode },\n        });\n        return this.postLogin(result);\n    }\n}\n//# sourceMappingURL=base-login.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvYmFzZS1sb2dpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUU7QUFDakI7QUFDcEQ7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLDZEQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2Q0FBNkM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsY0FBYztBQUN4QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixRQUFRO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixPQUFPO0FBQzdCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNFQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsV0FBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDJCQUEyQixzREFBc0Q7QUFDakYsNkJBQTZCLHdEQUF3RDtBQUNyRixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscUJBQXFCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixvQkFBb0I7QUFDMUMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MseUJBQXlCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3QkFBd0I7QUFDOUMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsMkJBQTJCO0FBQzNEO0FBQ0E7QUFDQSxzQkFBc0IsMEJBQTBCO0FBQ2hELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlDQUFpQztBQUMvRDtBQUNBO0FBQ0Esc0JBQXNCLGdDQUFnQztBQUN0RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL3dlYi9saWIvYXV0aC9iYXNlLWxvZ2luLmpzP2Y5M2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0aFByb3ZpZGVyLCB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhlbnRpY2F0aW9uL3R5cGUuanNcIjtcbmltcG9ydCB7IEFic3RyYWN0TG9naW4gfSBmcm9tIFwiLi9hYnN0cmFjdC1sb2dpbi5qc1wiO1xuLyoqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxvZ2luIGV4dGVuZHMgQWJzdHJhY3RMb2dpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsb3NlV2luZG93XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAoeyBpc1dpbmRvd09wZW5lZEJ5Rm4sIHdpbiwgY2xvc2VPcGVuZWRXaW5kb3csIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNXaW5kb3dPcGVuZWRCeUZuKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbj8uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW4gJiYgY2xvc2VPcGVuZWRXaW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlT3BlbmVkV2luZG93KHdpbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAod2luKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW4uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGdldE9hdXRoTG9naW5VcmwoYXV0aFByb3ZpZGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLkxvZ2luUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcImdldEhlYWRsZXNzT2F1dGhMb2dpbkxpbmtcIixcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgYXV0aFByb3ZpZGVyIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aE1vZGFsKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJsb2dpbldpdGhUaGlyZHdlYk1vZGFsXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNob3dJZnJhbWU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgbG9naW5XaXRoRW1haWxPdHAoeyBlbWFpbCwgfSkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJsb2dpbldpdGhUaGlyZHdlYk1vZGFsXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHsgZW1haWwgfSxcbiAgICAgICAgICAgIHNob3dJZnJhbWU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICB9XG4gICAgZ2V0T2F1dGhQb3BVcFNpemluZyhhdXRoUHJvdmlkZXIpIHtcbiAgICAgICAgc3dpdGNoIChhdXRoUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIGNhc2UgQXV0aFByb3ZpZGVyLkZBQ0VCT09LOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIndpZHRoPTcxNSwgaGVpZ2h0PTU1NVwiO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ3aWR0aD0zNTAsIGhlaWdodD01MDBcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhPYXV0aChhcmdzKSB7XG4gICAgICAgIGxldCB3aW4gPSBhcmdzPy5vcGVuZWRXaW5kb3c7XG4gICAgICAgIGxldCBpc1dpbmRvd09wZW5lZEJ5Rm4gPSBmYWxzZTtcbiAgICAgICAgaWYgKCF3aW4pIHtcbiAgICAgICAgICAgIHdpbiA9IHdpbmRvdy5vcGVuKFwiXCIsIFwiTG9naW5cIiwgdGhpcy5nZXRPYXV0aFBvcFVwU2l6aW5nKGFyZ3Mub2F1dGhQcm92aWRlcikpO1xuICAgICAgICAgICAgaXNXaW5kb3dPcGVuZWRCeUZuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXdpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3Jvbmcgb3BlbmluZyBwb3AtdXBcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9nb3V0IHRoZSB1c2VyXG4gICAgICAgIC8vIGZldGNoIHRoZSB1cmwgdG8gb3BlbiB0aGUgbG9naW4gd2luZG93IGZyb20gaWZyYW1lXG4gICAgICAgIGNvbnN0IFt7IGxvZ2luTGluayB9XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIHRoaXMuZ2V0T2F1dGhMb2dpblVybChhcmdzLm9hdXRoUHJvdmlkZXIpLFxuICAgICAgICAgICAgdGhpcy5wcmVMb2dpbigpLFxuICAgICAgICBdKTtcbiAgICAgICAgd2luLmxvY2F0aW9uLmhyZWYgPSBsb2dpbkxpbms7XG4gICAgICAgIC8vIGxpc3RlbiB0byByZXN1bHQgZnJvbSB0aGUgbG9naW4gd2luZG93XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIGRldGVjdCB3aGVuIHRoZSB1c2VyIGNsb3NlcyB0aGUgbG9naW4gd2luZG93XG4gICAgICAgICAgICBjb25zdCBwb2xsVGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghd2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHdpbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChwb2xsVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgbWVzc2FnZUxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlVzZXIgY2xvc2VkIGxvZ2luIHdpbmRvd1wiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlTGlzdGVuZXIgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQub3JpZ2luICE9PSB0aGlzLmJhc2VVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmRhdGEgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgZXZlbnQgZGF0YVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudC5kYXRhLmV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXNlckxvZ2luU3VjY2Vzc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgbWVzc2FnZUxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VXaW5kb3coe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzV2luZG93T3BlbmVkQnlGbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VPcGVuZWRXaW5kb3c6IGFyZ3M/LmNsb3NlT3BlbmVkV2luZG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5hdXRoUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudC5kYXRhLmF1dGhSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVzZXJMb2dpbkZhaWxlZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgbWVzc2FnZUxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VXaW5kb3coe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzV2luZG93T3BlbmVkQnlGbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VPcGVuZWRXaW5kb3c6IGFyZ3M/LmNsb3NlT3BlbmVkV2luZG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGV2ZW50LmRhdGEuZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbmplY3REZXZlbG9wZXJDbGllbnRJZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW4/LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFwiaW5qZWN0RGV2ZWxvcGVyQ2xpZW50SWRSZXN1bHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZlbG9wZXJDbGllbnRJZDogdGhpcy5jbGllbnQuY2xpZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aE9wdGlvbjogYXJncy5vYXV0aFByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJJZDogdGhpcy5lY29zeXN0ZW0/LnBhcnRuZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY29zeXN0ZW1JZDogdGhpcy5lY29zeXN0ZW0/LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5iYXNlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBtZXNzYWdlTGlzdGVuZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zdExvZ2luKHtcbiAgICAgICAgICAgIHN0b3JlZFRva2VuOiB7IC4uLnJlc3VsdC5zdG9yZWRUb2tlbiwgc2hvdWxkU3RvcmVDb29raWVTdHJpbmc6IHRydWUgfSxcbiAgICAgICAgICAgIHdhbGxldERldGFpbHM6IHsgLi4ucmVzdWx0LndhbGxldERldGFpbHMsIGlzSWZyYW1lU3RvcmFnZUVuYWJsZWQ6IGZhbHNlIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhDdXN0b21Kd3QoeyBlbmNyeXB0aW9uS2V5LCBqd3QsIH0pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVMb2dpbigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLkxvZ2luUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwibG9naW5XaXRoQ3VzdG9tSnd0XCIsXG4gICAgICAgICAgICBwYXJhbXM6IHsgZW5jcnlwdGlvbktleSwgand0IH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgbG9naW5XaXRoQ3VzdG9tQXV0aEVuZHBvaW50KHsgZW5jcnlwdGlvbktleSwgcGF5bG9hZCwgfSkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJsb2dpbldpdGhDdXN0b21BdXRoRW5kcG9pbnRcIixcbiAgICAgICAgICAgIHBhcmFtczogeyBlbmNyeXB0aW9uS2V5LCBwYXlsb2FkIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgdmVyaWZ5RW1haWxMb2dpbk90cCh7IGVtYWlsLCBvdHAsIHJlY292ZXJ5Q29kZSwgfSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLkxvZ2luUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwidmVyaWZ5VGhpcmR3ZWJFbWFpbExvZ2luT3RwXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHsgZW1haWwsIG90cCwgcmVjb3ZlcnlDb2RlIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgdmVyaWZ5U21zTG9naW5PdHAoeyBwaG9uZU51bWJlciwgb3RwLCByZWNvdmVyeUNvZGUsIH0pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcInZlcmlmeVRoaXJkd2ViU21zTG9naW5PdHBcIixcbiAgICAgICAgICAgIHBhcmFtczogeyBwaG9uZU51bWJlciwgb3RwLCByZWNvdmVyeUNvZGUgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UtbG9naW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth: function() { return /* binding */ Auth; }\n/* harmony export */ });\n/* harmony import */ var _utils_Storage_LocalStorage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Storage/LocalStorage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/Storage/LocalStorage.js\");\n/* harmony import */ var _base_login_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base-login.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js\");\n\n\n/**\n *\n */\nclass Auth {\n    /**\n     * Used to manage the user's auth states. This should not be instantiated directly.\n     * @internal\n     */\n    constructor({ client, querier, onAuthSuccess, ecosystem, baseUrl, }) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"AuthQuerier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"localStorage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"onAuthSuccess\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"BaseLogin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.client = client;\n        this.AuthQuerier = querier;\n        this.localStorage = new _utils_Storage_LocalStorage_js__WEBPACK_IMPORTED_MODULE_0__.LocalStorage({\n            clientId: client.clientId,\n            ecosystemId: ecosystem?.id,\n        });\n        this.onAuthSuccess = onAuthSuccess;\n        this.BaseLogin = new _base_login_js__WEBPACK_IMPORTED_MODULE_1__.BaseLogin({\n            postLogin: async (result) => {\n                return this.postLogin(result);\n            },\n            preLogin: async () => {\n                await this.preLogin();\n            },\n            ecosystem,\n            querier: querier,\n            client,\n            baseUrl,\n        });\n    }\n    async preLogin() {\n        await this.logout();\n    }\n    async postLogin({ storedToken, walletDetails, }) {\n        if (storedToken.shouldStoreCookieString) {\n            await this.localStorage.saveAuthCookie(storedToken.cookieString);\n        }\n        const initializedUser = await this.onAuthSuccess({\n            storedToken,\n            walletDetails,\n        });\n        return initializedUser;\n    }\n    async loginWithAuthToken(authToken, recoveryCode) {\n        await this.preLogin();\n        const result = await this.AuthQuerier.call({\n            procedureName: \"loginWithStoredTokenDetails\",\n            params: {\n                storedToken: authToken.storedToken,\n                recoveryCode,\n            },\n        });\n        return this.postLogin(result);\n    }\n    /**\n     * Used to log the user into their thirdweb wallet on your platform via a myriad of auth providers\n     * @example\n     * ```typescript\n     * const thirdwebInAppWallet = new InAppWalletSdk({clientId: \"YOUR_CLIENT_ID\", chain: \"Polygon\"})\n     * try {\n     *   const user = await thirdwebInAppWallet.auth.loginWithModal();\n     *   // user is now logged in\n     * } catch (e) {\n     *   // User closed modal or something else went wrong during the authentication process\n     *   console.error(e)\n     * }\n     * ```\n     * @returns `{{user: InitializedUser}}` An InitializedUser object.\n     */\n    async loginWithModal() {\n        return this.BaseLogin.loginWithModal();\n    }\n    /**\n     * Used to log the user into their thirdweb wallet using email OTP\n     * @example\n     * ```typescript\n     *  // Basic Flow\n     *  const thirdwebInAppWallet = new InAppWalletSdk({clientId: \"\", chain: \"Polygon\"});\n     *  try {\n     *    // prompts user to enter the code they received\n     *    const user = await thirdwebInAppWallet.auth.loginWithThirdwebEmailOtp({ email : \"you@example.com\" });\n     *    // user is now logged in\n     *  } catch (e) {\n     *    // User closed the OTP modal or something else went wrong during the authentication process\n     *    console.error(e)\n     *  }\n     * ```\n     * @param args - args.email: We will send the email an OTP that needs to be entered in order for them to be logged in.\n     * @returns `{{user: InitializedUser}}` An InitializedUser object. See {@link InAppWalletSdk.getUser} for more\n     */\n    async loginWithEmailOtp(args) {\n        return this.BaseLogin.loginWithEmailOtp(args);\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomJwt(args) {\n        return this.BaseLogin.loginWithCustomJwt(args);\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomAuthEndpoint(args) {\n        return this.BaseLogin.loginWithCustomAuthEndpoint(args);\n    }\n    /**\n     * @internal\n     */\n    async loginWithOauth(args) {\n        return this.BaseLogin.loginWithOauth(args);\n    }\n    /**\n     * A headless way to send the users at the passed email an OTP code.\n     * You need to then call {@link Auth.verifyEmailLoginOtp} in order to complete the login process\n     * @example\n     * @param param0.email\n     * ```typescript\n     *  const thirdwebInAppWallet = new InAppWalletSdk({clientId: \"\", chain: \"Polygon\"});\n     *  // sends user an OTP code\n     * try {\n     *    await thirdwebInAppWallet.auth.sendEmailLoginOtp({ email : \"you@example.com\" });\n     * } catch(e) {\n     *    // Error Sending user's email an OTP code\n     *    console.error(e);\n     * }\n     *\n     * // Then when your user is ready to verify their OTP\n     * try {\n     *    const user = await thirdwebInAppWallet.auth.verifyEmailLoginOtp({ email: \"you@example.com\", otp: \"6-DIGIT_CODE_HERE\" });\n     * } catch(e) {\n     *    // Error verifying the OTP code\n     *    console.error(e)\n     * }\n     * ```\n     * @param param0 - param0.email We will send the email an OTP that needs to be entered in order for them to be logged in.\n     * @returns `{{ isNewUser: boolean }}` IsNewUser indicates if the user is a new user to your platform\n     * @internal\n     */\n    async sendEmailLoginOtp({ email, }) {\n        return this.BaseLogin.sendEmailLoginOtp({\n            email,\n        });\n    }\n    /**\n     * @internal\n     */\n    async sendSmsLoginOtp({ phoneNumber, }) {\n        return this.BaseLogin.sendSmsLoginOtp({\n            phoneNumber,\n        });\n    }\n    /**\n     * Used to verify the otp that the user receives from thirdweb\n     *\n     * See {@link Auth.sendEmailLoginOtp} for how the headless call flow looks like. Simply swap out the calls to `loginWithThirdwebEmailOtp` with `verifyThirdwebEmailLoginOtp`\n     * @param args - props.email We will send the email an OTP that needs to be entered in order for them to be logged in.\n     * props.otp The code that the user received in their email\n     * @returns `{{user: InitializedUser}}` An InitializedUser object containing the user's status, wallet, authDetails, and more\n     * @internal\n     */\n    async verifyEmailLoginOtp(args) {\n        return this.BaseLogin.verifyEmailLoginOtp(args);\n    }\n    /**\n     * @internal\n     */\n    async verifySmsLoginOtp(args) {\n        return this.BaseLogin.verifySmsLoginOtp(args);\n    }\n    /**\n     * Logs any existing user out of their wallet.\n     * @returns `{{success: boolean}}` true if a user is successfully logged out. false if there's no user currently logged in.\n     * @internal\n     */\n    async logout() {\n        const { success } = await this.AuthQuerier.call({\n            procedureName: \"logout\",\n            params: undefined,\n        });\n        const isRemoveAuthCookie = await this.localStorage.removeAuthCookie();\n        const isRemoveUserId = await this.localStorage.removeWalletUserId();\n        return {\n            success: success || isRemoveAuthCookie || isRemoveUserId,\n        };\n    }\n}\n//# sourceMappingURL=iframe-auth.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvaWZyYW1lLWF1dGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1FO0FBQ3ZCO0FBQzVDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQXFEO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0NBQWdDLHdFQUFZO0FBQzVDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw2QkFBNkIscURBQVM7QUFDdEM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZCQUE2QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsNkNBQTZDO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix1QkFBdUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELCtCQUErQjtBQUN2RjtBQUNBO0FBQ0Esa0ZBQWtGLDJCQUEyQjtBQUM3RztBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QixrQ0FBa0MsOEJBQThCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixnQ0FBZ0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELCtCQUErQjtBQUN2RjtBQUNBO0FBQ0EsNkRBQTZELDJCQUEyQjtBQUN4RixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLG9EQUFvRDtBQUNoSSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBLDhCQUE4QixRQUFRO0FBQ3RDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4QkFBOEI7QUFDMUM7QUFDQTtBQUNBLG1CQUFtQix1QkFBdUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0JBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvd2ViL2xpYi9hdXRoL2lmcmFtZS1hdXRoLmpzPzYwMGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL1N0b3JhZ2UvTG9jYWxTdG9yYWdlLmpzXCI7XG5pbXBvcnQgeyBCYXNlTG9naW4gfSBmcm9tIFwiLi9iYXNlLWxvZ2luLmpzXCI7XG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBBdXRoIHtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIG1hbmFnZSB0aGUgdXNlcidzIGF1dGggc3RhdGVzLiBUaGlzIHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgY2xpZW50LCBxdWVyaWVyLCBvbkF1dGhTdWNjZXNzLCBlY29zeXN0ZW0sIGJhc2VVcmwsIH0pIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkF1dGhRdWVyaWVyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvY2FsU3RvcmFnZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbkF1dGhTdWNjZXNzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkJhc2VMb2dpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAgICAgdGhpcy5BdXRoUXVlcmllciA9IHF1ZXJpZXI7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yYWdlID0gbmV3IExvY2FsU3RvcmFnZSh7XG4gICAgICAgICAgICBjbGllbnRJZDogY2xpZW50LmNsaWVudElkLFxuICAgICAgICAgICAgZWNvc3lzdGVtSWQ6IGVjb3N5c3RlbT8uaWQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uQXV0aFN1Y2Nlc3MgPSBvbkF1dGhTdWNjZXNzO1xuICAgICAgICB0aGlzLkJhc2VMb2dpbiA9IG5ldyBCYXNlTG9naW4oe1xuICAgICAgICAgICAgcG9zdExvZ2luOiBhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdExvZ2luKHJlc3VsdCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJlTG9naW46IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWNvc3lzdGVtLFxuICAgICAgICAgICAgcXVlcmllcjogcXVlcmllcixcbiAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgIGJhc2VVcmwsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwcmVMb2dpbigpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2dvdXQoKTtcbiAgICB9XG4gICAgYXN5bmMgcG9zdExvZ2luKHsgc3RvcmVkVG9rZW4sIHdhbGxldERldGFpbHMsIH0pIHtcbiAgICAgICAgaWYgKHN0b3JlZFRva2VuLnNob3VsZFN0b3JlQ29va2llU3RyaW5nKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvY2FsU3RvcmFnZS5zYXZlQXV0aENvb2tpZShzdG9yZWRUb2tlbi5jb29raWVTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVkVXNlciA9IGF3YWl0IHRoaXMub25BdXRoU3VjY2Vzcyh7XG4gICAgICAgICAgICBzdG9yZWRUb2tlbixcbiAgICAgICAgICAgIHdhbGxldERldGFpbHMsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaW5pdGlhbGl6ZWRVc2VyO1xuICAgIH1cbiAgICBhc3luYyBsb2dpbldpdGhBdXRoVG9rZW4oYXV0aFRva2VuLCByZWNvdmVyeUNvZGUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVMb2dpbigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLkF1dGhRdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJsb2dpbldpdGhTdG9yZWRUb2tlbkRldGFpbHNcIixcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHN0b3JlZFRva2VuOiBhdXRoVG9rZW4uc3RvcmVkVG9rZW4sXG4gICAgICAgICAgICAgICAgcmVjb3ZlcnlDb2RlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGxvZyB0aGUgdXNlciBpbnRvIHRoZWlyIHRoaXJkd2ViIHdhbGxldCBvbiB5b3VyIHBsYXRmb3JtIHZpYSBhIG15cmlhZCBvZiBhdXRoIHByb3ZpZGVyc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHRoaXJkd2ViSW5BcHBXYWxsZXQgPSBuZXcgSW5BcHBXYWxsZXRTZGsoe2NsaWVudElkOiBcIllPVVJfQ0xJRU5UX0lEXCIsIGNoYWluOiBcIlBvbHlnb25cIn0pXG4gICAgICogdHJ5IHtcbiAgICAgKiAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlyZHdlYkluQXBwV2FsbGV0LmF1dGgubG9naW5XaXRoTW9kYWwoKTtcbiAgICAgKiAgIC8vIHVzZXIgaXMgbm93IGxvZ2dlZCBpblxuICAgICAqIH0gY2F0Y2ggKGUpIHtcbiAgICAgKiAgIC8vIFVzZXIgY2xvc2VkIG1vZGFsIG9yIHNvbWV0aGluZyBlbHNlIHdlbnQgd3JvbmcgZHVyaW5nIHRoZSBhdXRoZW50aWNhdGlvbiBwcm9jZXNzXG4gICAgICogICBjb25zb2xlLmVycm9yKGUpXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqIEByZXR1cm5zIGB7e3VzZXI6IEluaXRpYWxpemVkVXNlcn19YCBBbiBJbml0aWFsaXplZFVzZXIgb2JqZWN0LlxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aE1vZGFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4ubG9naW5XaXRoTW9kYWwoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBsb2cgdGhlIHVzZXIgaW50byB0aGVpciB0aGlyZHdlYiB3YWxsZXQgdXNpbmcgZW1haWwgT1RQXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogIC8vIEJhc2ljIEZsb3dcbiAgICAgKiAgY29uc3QgdGhpcmR3ZWJJbkFwcFdhbGxldCA9IG5ldyBJbkFwcFdhbGxldFNkayh7Y2xpZW50SWQ6IFwiXCIsIGNoYWluOiBcIlBvbHlnb25cIn0pO1xuICAgICAqICB0cnkge1xuICAgICAqICAgIC8vIHByb21wdHMgdXNlciB0byBlbnRlciB0aGUgY29kZSB0aGV5IHJlY2VpdmVkXG4gICAgICogICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXJkd2ViSW5BcHBXYWxsZXQuYXV0aC5sb2dpbldpdGhUaGlyZHdlYkVtYWlsT3RwKHsgZW1haWwgOiBcInlvdUBleGFtcGxlLmNvbVwiIH0pO1xuICAgICAqICAgIC8vIHVzZXIgaXMgbm93IGxvZ2dlZCBpblxuICAgICAqICB9IGNhdGNoIChlKSB7XG4gICAgICogICAgLy8gVXNlciBjbG9zZWQgdGhlIE9UUCBtb2RhbCBvciBzb21ldGhpbmcgZWxzZSB3ZW50IHdyb25nIGR1cmluZyB0aGUgYXV0aGVudGljYXRpb24gcHJvY2Vzc1xuICAgICAqICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICAgKiAgfVxuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBhcmdzIC0gYXJncy5lbWFpbDogV2Ugd2lsbCBzZW5kIHRoZSBlbWFpbCBhbiBPVFAgdGhhdCBuZWVkcyB0byBiZSBlbnRlcmVkIGluIG9yZGVyIGZvciB0aGVtIHRvIGJlIGxvZ2dlZCBpbi5cbiAgICAgKiBAcmV0dXJucyBge3t1c2VyOiBJbml0aWFsaXplZFVzZXJ9fWAgQW4gSW5pdGlhbGl6ZWRVc2VyIG9iamVjdC4gU2VlIHtAbGluayBJbkFwcFdhbGxldFNkay5nZXRVc2VyfSBmb3IgbW9yZVxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aEVtYWlsT3RwKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLmxvZ2luV2l0aEVtYWlsT3RwKGFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhDdXN0b21Kd3QoYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4ubG9naW5XaXRoQ3VzdG9tSnd0KGFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhDdXN0b21BdXRoRW5kcG9pbnQoYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4ubG9naW5XaXRoQ3VzdG9tQXV0aEVuZHBvaW50KGFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhPYXV0aChhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5sb2dpbldpdGhPYXV0aChhcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBoZWFkbGVzcyB3YXkgdG8gc2VuZCB0aGUgdXNlcnMgYXQgdGhlIHBhc3NlZCBlbWFpbCBhbiBPVFAgY29kZS5cbiAgICAgKiBZb3UgbmVlZCB0byB0aGVuIGNhbGwge0BsaW5rIEF1dGgudmVyaWZ5RW1haWxMb2dpbk90cH0gaW4gb3JkZXIgdG8gY29tcGxldGUgdGhlIGxvZ2luIHByb2Nlc3NcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEBwYXJhbSBwYXJhbTAuZW1haWxcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogIGNvbnN0IHRoaXJkd2ViSW5BcHBXYWxsZXQgPSBuZXcgSW5BcHBXYWxsZXRTZGsoe2NsaWVudElkOiBcIlwiLCBjaGFpbjogXCJQb2x5Z29uXCJ9KTtcbiAgICAgKiAgLy8gc2VuZHMgdXNlciBhbiBPVFAgY29kZVxuICAgICAqIHRyeSB7XG4gICAgICogICAgYXdhaXQgdGhpcmR3ZWJJbkFwcFdhbGxldC5hdXRoLnNlbmRFbWFpbExvZ2luT3RwKHsgZW1haWwgOiBcInlvdUBleGFtcGxlLmNvbVwiIH0pO1xuICAgICAqIH0gY2F0Y2goZSkge1xuICAgICAqICAgIC8vIEVycm9yIFNlbmRpbmcgdXNlcidzIGVtYWlsIGFuIE9UUCBjb2RlXG4gICAgICogICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGVuIHdoZW4geW91ciB1c2VyIGlzIHJlYWR5IHRvIHZlcmlmeSB0aGVpciBPVFBcbiAgICAgKiB0cnkge1xuICAgICAqICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlyZHdlYkluQXBwV2FsbGV0LmF1dGgudmVyaWZ5RW1haWxMb2dpbk90cCh7IGVtYWlsOiBcInlvdUBleGFtcGxlLmNvbVwiLCBvdHA6IFwiNi1ESUdJVF9DT0RFX0hFUkVcIiB9KTtcbiAgICAgKiB9IGNhdGNoKGUpIHtcbiAgICAgKiAgICAvLyBFcnJvciB2ZXJpZnlpbmcgdGhlIE9UUCBjb2RlXG4gICAgICogICAgY29uc29sZS5lcnJvcihlKVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gcGFyYW0wIC0gcGFyYW0wLmVtYWlsIFdlIHdpbGwgc2VuZCB0aGUgZW1haWwgYW4gT1RQIHRoYXQgbmVlZHMgdG8gYmUgZW50ZXJlZCBpbiBvcmRlciBmb3IgdGhlbSB0byBiZSBsb2dnZWQgaW4uXG4gICAgICogQHJldHVybnMgYHt7IGlzTmV3VXNlcjogYm9vbGVhbiB9fWAgSXNOZXdVc2VyIGluZGljYXRlcyBpZiB0aGUgdXNlciBpcyBhIG5ldyB1c2VyIHRvIHlvdXIgcGxhdGZvcm1cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBzZW5kRW1haWxMb2dpbk90cCh7IGVtYWlsLCB9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5zZW5kRW1haWxMb2dpbk90cCh7XG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIHNlbmRTbXNMb2dpbk90cCh7IHBob25lTnVtYmVyLCB9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5zZW5kU21zTG9naW5PdHAoe1xuICAgICAgICAgICAgcGhvbmVOdW1iZXIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHZlcmlmeSB0aGUgb3RwIHRoYXQgdGhlIHVzZXIgcmVjZWl2ZXMgZnJvbSB0aGlyZHdlYlxuICAgICAqXG4gICAgICogU2VlIHtAbGluayBBdXRoLnNlbmRFbWFpbExvZ2luT3RwfSBmb3IgaG93IHRoZSBoZWFkbGVzcyBjYWxsIGZsb3cgbG9va3MgbGlrZS4gU2ltcGx5IHN3YXAgb3V0IHRoZSBjYWxscyB0byBgbG9naW5XaXRoVGhpcmR3ZWJFbWFpbE90cGAgd2l0aCBgdmVyaWZ5VGhpcmR3ZWJFbWFpbExvZ2luT3RwYFxuICAgICAqIEBwYXJhbSBhcmdzIC0gcHJvcHMuZW1haWwgV2Ugd2lsbCBzZW5kIHRoZSBlbWFpbCBhbiBPVFAgdGhhdCBuZWVkcyB0byBiZSBlbnRlcmVkIGluIG9yZGVyIGZvciB0aGVtIHRvIGJlIGxvZ2dlZCBpbi5cbiAgICAgKiBwcm9wcy5vdHAgVGhlIGNvZGUgdGhhdCB0aGUgdXNlciByZWNlaXZlZCBpbiB0aGVpciBlbWFpbFxuICAgICAqIEByZXR1cm5zIGB7e3VzZXI6IEluaXRpYWxpemVkVXNlcn19YCBBbiBJbml0aWFsaXplZFVzZXIgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHVzZXIncyBzdGF0dXMsIHdhbGxldCwgYXV0aERldGFpbHMsIGFuZCBtb3JlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgdmVyaWZ5RW1haWxMb2dpbk90cChhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi52ZXJpZnlFbWFpbExvZ2luT3RwKGFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyB2ZXJpZnlTbXNMb2dpbk90cChhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi52ZXJpZnlTbXNMb2dpbk90cChhcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ncyBhbnkgZXhpc3RpbmcgdXNlciBvdXQgb2YgdGhlaXIgd2FsbGV0LlxuICAgICAqIEByZXR1cm5zIGB7e3N1Y2Nlc3M6IGJvb2xlYW59fWAgdHJ1ZSBpZiBhIHVzZXIgaXMgc3VjY2Vzc2Z1bGx5IGxvZ2dlZCBvdXQuIGZhbHNlIGlmIHRoZXJlJ3Mgbm8gdXNlciBjdXJyZW50bHkgbG9nZ2VkIGluLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ291dCgpIHtcbiAgICAgICAgY29uc3QgeyBzdWNjZXNzIH0gPSBhd2FpdCB0aGlzLkF1dGhRdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJsb2dvdXRcIixcbiAgICAgICAgICAgIHBhcmFtczogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaXNSZW1vdmVBdXRoQ29va2llID0gYXdhaXQgdGhpcy5sb2NhbFN0b3JhZ2UucmVtb3ZlQXV0aENvb2tpZSgpO1xuICAgICAgICBjb25zdCBpc1JlbW92ZVVzZXJJZCA9IGF3YWl0IHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZVdhbGxldFVzZXJJZCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyB8fCBpc1JlbW92ZUF1dGhDb29raWUgfHwgaXNSZW1vdmVVc2VySWQsXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWZyYW1lLWF1dGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/in-app-account.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/in-app-account.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IFrameWallet: function() { return /* binding */ IFrameWallet; }\n/* harmony export */ });\n/* harmony import */ var _chains_utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chains/utils.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/chains/utils.js\");\n/* harmony import */ var _rpc_actions_eth_sendRawTransaction_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../rpc/actions/eth_sendRawTransaction.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/actions/eth_sendRawTransaction.js\");\n/* harmony import */ var _rpc_rpc_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../rpc/rpc.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/rpc.js\");\n/* harmony import */ var _utils_address_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../utils/address.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/address.js\");\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../utils/encoding/hex.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/encoding/hex.js\");\n/* harmony import */ var _utils_signatures_helpers_parseTypedData_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../utils/signatures/helpers/parseTypedData.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/signatures/helpers/parseTypedData.js\");\n/* harmony import */ var _ecosystem_get_ecosystem_partner_permissions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../ecosystem/get-ecosystem-partner-permissions.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/ecosystem/get-ecosystem-partner-permissions.js\");\n/* harmony import */ var _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/authentication/type.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/type.js\");\n/* harmony import */ var _utils_Storage_LocalStorage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Storage/LocalStorage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/Storage/LocalStorage.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n *\n */\nclass IFrameWallet {\n    /**\n     * Not meant to be initialized directly. Call {@link initializeUser} to get an instance\n     * @internal\n     */\n    constructor({ client, ecosystem, querier, }) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"walletManagerQuerier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"localStorage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.client = client;\n        this.ecosystem = ecosystem;\n        this.walletManagerQuerier = querier;\n        this.localStorage = new _utils_Storage_LocalStorage_js__WEBPACK_IMPORTED_MODULE_0__.LocalStorage({\n            clientId: client.clientId,\n            ecosystemId: ecosystem?.id,\n        });\n    }\n    /**\n     * Used to set-up the user device in the case that they are using incognito\n     * @returns `{walletAddress : string }` The user's wallet details\n     * @internal\n     */\n    async postWalletSetUp({ deviceShareStored, walletAddress, isIframeStorageEnabled, walletUserId, }) {\n        if (!isIframeStorageEnabled) {\n            await this.localStorage.saveDeviceShare(deviceShareStored, walletUserId);\n        }\n        return { walletAddress };\n    }\n    /**\n     * Gets the various status states of the user\n     * @example\n     * ```typescript\n     *  const userStatus = await Paper.getUserWalletStatus();\n     *  switch (userStatus.status) {\n     *  case UserWalletStatus.LOGGED_OUT: {\n     *    // User is logged out, call one of the auth methods on Paper.auth to authenticate the user\n     *    break;\n     *  }\n     *  case UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED: {\n     *    // User is logged in, but does not have a wallet associated with it\n     *    // you also have access to the user's details\n     *    userStatus.user.authDetails;\n     *    break;\n     *  }\n     *  case UserWalletStatus.LOGGED_IN_NEW_DEVICE: {\n     *    // User is logged in and created a wallet already, but is missing the device shard\n     *    // You have access to:\n     *    userStatus.user.authDetails;\n     *    userStatus.user.walletAddress;\n     *    break;\n     *  }\n     *  case UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED: {\n     *    // user is logged in and wallet is all set up.\n     *    // You have access to:\n     *    userStatus.user.authDetails;\n     *    userStatus.user.walletAddress;\n     *    userStatus.user.wallet;\n     *    break;\n     *  }\n     *}\n     *```\n     * @returns `{GetUserWalletStatusFnReturnType}` an object to containing various information on the user statuses\n     * @internal\n     */\n    async getUserWalletStatus() {\n        const userStatus = await this.walletManagerQuerier.call({\n            procedureName: \"getUserStatus\",\n            params: undefined,\n        });\n        if (userStatus.status === _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_1__.UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED) {\n            return {\n                status: _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_1__.UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED,\n                ...userStatus.user,\n                account: await this.getAccount(),\n            };\n        }\n        if (userStatus.status === _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_1__.UserWalletStatus.LOGGED_IN_NEW_DEVICE) {\n            return {\n                status: _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_1__.UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED,\n                ...userStatus.user,\n            };\n        }\n        if (userStatus.status === _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_1__.UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED) {\n            return {\n                status: _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_1__.UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED,\n                ...userStatus.user,\n            };\n        }\n        // Logged out\n        return { status: userStatus.status };\n    }\n    /**\n     * Returns an account that communicates with the iFrame for signing operations\n     * @internal\n     */\n    async getAccount() {\n        const querier = this\n            .walletManagerQuerier;\n        const client = this.client;\n        const partnerId = this.ecosystem?.partnerId;\n        const isEcosystem = !!this.ecosystem;\n        const permissions = this.ecosystem?.partnerId\n            ? await (0,_ecosystem_get_ecosystem_partner_permissions_js__WEBPACK_IMPORTED_MODULE_2__.getEcosystemPartnerPermissions)(this.ecosystem.id, this.ecosystem?.partnerId)\n            : undefined;\n        const { address } = await querier.call({\n            procedureName: \"getAddress\",\n            params: undefined,\n        });\n        const _signTransaction = async (tx) => {\n            // biome-ignore lint/suspicious/noExplicitAny: ethers tx transformation\n            const transaction = {\n                to: tx.to ?? undefined,\n                data: tx.data,\n                value: tx.value,\n                gasLimit: tx.gas,\n                nonce: tx.nonce,\n                chainId: tx.chainId,\n            };\n            if (tx.maxFeePerGas) {\n                // ethers (in the iframe) rejects any type 0 trasaction with unknown keys\n                // TODO remove this once iframe is upgraded to v5\n                transaction.accessList = tx.accessList;\n                transaction.maxFeePerGas = tx.maxFeePerGas;\n                transaction.maxPriorityFeePerGas = tx.maxPriorityFeePerGas;\n                transaction.type = 2;\n            }\n            else {\n                transaction.gasPrice = tx.gasPrice;\n                transaction.type = 0;\n            }\n            const RPC_URL = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_3__.getThirdwebDomains)().rpc;\n            const { signedTransaction } = await querier.call({\n                procedureName: \"signTransaction\",\n                params: {\n                    transaction,\n                    chainId: tx.chainId,\n                    partnerId,\n                    rpcEndpoint: `https://${tx.chainId}.${RPC_URL}`, // TODO (ew) shouldnt be needed\n                },\n                // Can hide the iframe if the partner has full control (no user approvals)\n                showIframe: permissions?.permissions.includes(\"FULL_CONTROL_V1\")\n                    ? false\n                    : isEcosystem,\n            });\n            return signedTransaction;\n        };\n        return {\n            address: (0,_utils_address_js__WEBPACK_IMPORTED_MODULE_4__.getAddress)(address),\n            async signTransaction(tx) {\n                if (!tx.chainId) {\n                    throw new Error(\"chainId required in tx to sign\");\n                }\n                return _signTransaction({\n                    ...tx,\n                    chainId: tx.chainId,\n                });\n            },\n            async sendTransaction(tx) {\n                const rpcRequest = (0,_rpc_rpc_js__WEBPACK_IMPORTED_MODULE_5__.getRpcClient)({\n                    client,\n                    chain: (0,_chains_utils_js__WEBPACK_IMPORTED_MODULE_6__.getCachedChain)(tx.chainId),\n                });\n                const signedTx = await _signTransaction(tx);\n                const transactionHash = await (0,_rpc_actions_eth_sendRawTransaction_js__WEBPACK_IMPORTED_MODULE_7__.eth_sendRawTransaction)(rpcRequest, signedTx);\n                return {\n                    transactionHash,\n                };\n            },\n            async signMessage({ message }) {\n                // in-app wallets use ethers to sign messages, which always expects a string (or bytes maybe but string is safest)\n                const messageDecoded = (() => {\n                    if (typeof message === \"string\") {\n                        return message;\n                    }\n                    if (message.raw instanceof Uint8Array) {\n                        return message.raw;\n                    }\n                    return (0,_utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_8__.hexToString)(message.raw);\n                })();\n                const { signedMessage } = await querier.call({\n                    procedureName: \"signMessage\",\n                    params: {\n                        // biome-ignore lint/suspicious/noExplicitAny: ethers tx transformation\n                        message: messageDecoded, // needs bytes or string\n                        partnerId,\n                        chainId: 1, // TODO check if we need this\n                    },\n                    // Can hide the iframe if the partner has full control (no user approvals)\n                    showIframe: permissions?.permissions.includes(\"FULL_CONTROL_V1\")\n                        ? false\n                        : isEcosystem,\n                });\n                return signedMessage;\n            },\n            async signTypedData(_typedData) {\n                const parsedTypedData = (0,_utils_signatures_helpers_parseTypedData_js__WEBPACK_IMPORTED_MODULE_9__.parseTypedData)(_typedData);\n                // deleting EIP712 Domain as it results in ambiguous primary type on some cases\n                // this happens when going from viem to ethers via the iframe\n                if (parsedTypedData.types?.EIP712Domain) {\n                    parsedTypedData.types.EIP712Domain = undefined;\n                }\n                const domain = parsedTypedData.domain;\n                const chainId = domain?.chainId;\n                const domainData = {\n                    verifyingContract: domain?.verifyingContract,\n                    name: domain?.name,\n                    version: domain?.version,\n                };\n                // chain id can't be included if it wasn't explicitly specified\n                if (chainId) {\n                    domainData.chainId = chainId;\n                }\n                const RPC_URL = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_3__.getThirdwebDomains)().rpc;\n                const { signedTypedData } = await querier.call({\n                    procedureName: \"signTypedDataV4\",\n                    params: {\n                        domain: domainData,\n                        types: parsedTypedData.types,\n                        message: parsedTypedData.message,\n                        chainId: chainId || 1,\n                        partnerId,\n                        rpcEndpoint: `https://${chainId}.${RPC_URL}`, // TODO (ew) shouldnt be needed\n                    },\n                    // Can hide the iframe if the partner has full control (no user approvals)\n                    showIframe: permissions?.permissions.includes(\"FULL_CONTROL_V1\")\n                        ? false\n                        : isEcosystem,\n                });\n                return signedTypedData;\n            },\n        };\n    }\n}\n//# sourceMappingURL=in-app-account.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2luLWFwcC1hY2NvdW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTZEO0FBQzhCO0FBQ3JDO0FBQ0k7QUFDUTtBQUNGO0FBQ3dCO0FBQ2lCO0FBQ25DO0FBQ047QUFDaEU7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG1EQUFtRCxzQkFBc0I7QUFDekU7QUFDQTtBQUNBLGtCQUFrQiw2QkFBNkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0VBQVk7QUFDNUM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0JBQXdCO0FBQzFDO0FBQ0E7QUFDQSw0QkFBNEIseUVBQXlFO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQ0FBZ0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGtDQUFrQywwRUFBZ0I7QUFDbEQ7QUFDQSx3QkFBd0IsMEVBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDBFQUFnQjtBQUNsRDtBQUNBLHdCQUF3QiwwRUFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDBFQUFnQjtBQUNsRDtBQUNBLHdCQUF3QiwwRUFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtHQUE4QjtBQUNsRDtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUVBQWtCO0FBQzlDLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxXQUFXLEdBQUcsUUFBUTtBQUNsRSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZEQUFVO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLG1DQUFtQyx5REFBWTtBQUMvQztBQUNBLDJCQUEyQixnRUFBYztBQUN6QyxpQkFBaUI7QUFDakI7QUFDQSw4Q0FBOEMsOEZBQXNCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixnQ0FBZ0MsU0FBUztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1FQUFXO0FBQ3RDLGlCQUFpQjtBQUNqQix3QkFBd0IsZ0JBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBLHdDQUF3QywyRkFBYztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxRUFBa0I7QUFDbEQsd0JBQXdCLGtCQUFrQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxRQUFRLEdBQUcsUUFBUTtBQUNuRSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL3dlYi9saWIvaW4tYXBwLWFjY291bnQuanM/ZDUyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDYWNoZWRDaGFpbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9jaGFpbnMvdXRpbHMuanNcIjtcbmltcG9ydCB7IGV0aF9zZW5kUmF3VHJhbnNhY3Rpb24gfSBmcm9tIFwiLi4vLi4vLi4vLi4vcnBjL2FjdGlvbnMvZXRoX3NlbmRSYXdUcmFuc2FjdGlvbi5qc1wiO1xuaW1wb3J0IHsgZ2V0UnBjQ2xpZW50IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3JwYy9ycGMuanNcIjtcbmltcG9ydCB7IGdldEFkZHJlc3MgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvYWRkcmVzcy5qc1wiO1xuaW1wb3J0IHsgZ2V0VGhpcmR3ZWJEb21haW5zIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2RvbWFpbnMuanNcIjtcbmltcG9ydCB7IGhleFRvU3RyaW5nIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2VuY29kaW5nL2hleC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VUeXBlZERhdGEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvc2lnbmF0dXJlcy9oZWxwZXJzL3BhcnNlVHlwZWREYXRhLmpzXCI7XG5pbXBvcnQgeyBnZXRFY29zeXN0ZW1QYXJ0bmVyUGVybWlzc2lvbnMgfSBmcm9tIFwiLi4vLi4vLi4vZWNvc3lzdGVtL2dldC1lY29zeXN0ZW0tcGFydG5lci1wZXJtaXNzaW9ucy5qc1wiO1xuaW1wb3J0IHsgVXNlcldhbGxldFN0YXR1cywgfSBmcm9tIFwiLi4vLi4vY29yZS9hdXRoZW50aWNhdGlvbi90eXBlLmpzXCI7XG5pbXBvcnQgeyBMb2NhbFN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbHMvU3RvcmFnZS9Mb2NhbFN0b3JhZ2UuanNcIjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIElGcmFtZVdhbGxldCB7XG4gICAgLyoqXG4gICAgICogTm90IG1lYW50IHRvIGJlIGluaXRpYWxpemVkIGRpcmVjdGx5LiBDYWxsIHtAbGluayBpbml0aWFsaXplVXNlcn0gdG8gZ2V0IGFuIGluc3RhbmNlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBjbGllbnQsIGVjb3N5c3RlbSwgcXVlcmllciwgfSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZWNvc3lzdGVtXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndhbGxldE1hbmFnZXJRdWVyaWVyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvY2FsU3RvcmFnZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAgICAgdGhpcy5lY29zeXN0ZW0gPSBlY29zeXN0ZW07XG4gICAgICAgIHRoaXMud2FsbGV0TWFuYWdlclF1ZXJpZXIgPSBxdWVyaWVyO1xuICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZSA9IG5ldyBMb2NhbFN0b3JhZ2Uoe1xuICAgICAgICAgICAgY2xpZW50SWQ6IGNsaWVudC5jbGllbnRJZCxcbiAgICAgICAgICAgIGVjb3N5c3RlbUlkOiBlY29zeXN0ZW0/LmlkLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBzZXQtdXAgdGhlIHVzZXIgZGV2aWNlIGluIHRoZSBjYXNlIHRoYXQgdGhleSBhcmUgdXNpbmcgaW5jb2duaXRvXG4gICAgICogQHJldHVybnMgYHt3YWxsZXRBZGRyZXNzIDogc3RyaW5nIH1gIFRoZSB1c2VyJ3Mgd2FsbGV0IGRldGFpbHNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBwb3N0V2FsbGV0U2V0VXAoeyBkZXZpY2VTaGFyZVN0b3JlZCwgd2FsbGV0QWRkcmVzcywgaXNJZnJhbWVTdG9yYWdlRW5hYmxlZCwgd2FsbGV0VXNlcklkLCB9KSB7XG4gICAgICAgIGlmICghaXNJZnJhbWVTdG9yYWdlRW5hYmxlZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2NhbFN0b3JhZ2Uuc2F2ZURldmljZVNoYXJlKGRldmljZVNoYXJlU3RvcmVkLCB3YWxsZXRVc2VySWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHdhbGxldEFkZHJlc3MgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFyaW91cyBzdGF0dXMgc3RhdGVzIG9mIHRoZSB1c2VyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogIGNvbnN0IHVzZXJTdGF0dXMgPSBhd2FpdCBQYXBlci5nZXRVc2VyV2FsbGV0U3RhdHVzKCk7XG4gICAgICogIHN3aXRjaCAodXNlclN0YXR1cy5zdGF0dXMpIHtcbiAgICAgKiAgY2FzZSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9PVVQ6IHtcbiAgICAgKiAgICAvLyBVc2VyIGlzIGxvZ2dlZCBvdXQsIGNhbGwgb25lIG9mIHRoZSBhdXRoIG1ldGhvZHMgb24gUGFwZXIuYXV0aCB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXJcbiAgICAgKiAgICBicmVhaztcbiAgICAgKiAgfVxuICAgICAqICBjYXNlIFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9VTklOSVRJQUxJWkVEOiB7XG4gICAgICogICAgLy8gVXNlciBpcyBsb2dnZWQgaW4sIGJ1dCBkb2VzIG5vdCBoYXZlIGEgd2FsbGV0IGFzc29jaWF0ZWQgd2l0aCBpdFxuICAgICAqICAgIC8vIHlvdSBhbHNvIGhhdmUgYWNjZXNzIHRvIHRoZSB1c2VyJ3MgZGV0YWlsc1xuICAgICAqICAgIHVzZXJTdGF0dXMudXNlci5hdXRoRGV0YWlscztcbiAgICAgKiAgICBicmVhaztcbiAgICAgKiAgfVxuICAgICAqICBjYXNlIFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX05FV19ERVZJQ0U6IHtcbiAgICAgKiAgICAvLyBVc2VyIGlzIGxvZ2dlZCBpbiBhbmQgY3JlYXRlZCBhIHdhbGxldCBhbHJlYWR5LCBidXQgaXMgbWlzc2luZyB0aGUgZGV2aWNlIHNoYXJkXG4gICAgICogICAgLy8gWW91IGhhdmUgYWNjZXNzIHRvOlxuICAgICAqICAgIHVzZXJTdGF0dXMudXNlci5hdXRoRGV0YWlscztcbiAgICAgKiAgICB1c2VyU3RhdHVzLnVzZXIud2FsbGV0QWRkcmVzcztcbiAgICAgKiAgICBicmVhaztcbiAgICAgKiAgfVxuICAgICAqICBjYXNlIFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9JTklUSUFMSVpFRDoge1xuICAgICAqICAgIC8vIHVzZXIgaXMgbG9nZ2VkIGluIGFuZCB3YWxsZXQgaXMgYWxsIHNldCB1cC5cbiAgICAgKiAgICAvLyBZb3UgaGF2ZSBhY2Nlc3MgdG86XG4gICAgICogICAgdXNlclN0YXR1cy51c2VyLmF1dGhEZXRhaWxzO1xuICAgICAqICAgIHVzZXJTdGF0dXMudXNlci53YWxsZXRBZGRyZXNzO1xuICAgICAqICAgIHVzZXJTdGF0dXMudXNlci53YWxsZXQ7XG4gICAgICogICAgYnJlYWs7XG4gICAgICogIH1cbiAgICAgKn1cbiAgICAgKmBgYFxuICAgICAqIEByZXR1cm5zIGB7R2V0VXNlcldhbGxldFN0YXR1c0ZuUmV0dXJuVHlwZX1gIGFuIG9iamVjdCB0byBjb250YWluaW5nIHZhcmlvdXMgaW5mb3JtYXRpb24gb24gdGhlIHVzZXIgc3RhdHVzZXNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBnZXRVc2VyV2FsbGV0U3RhdHVzKCkge1xuICAgICAgICBjb25zdCB1c2VyU3RhdHVzID0gYXdhaXQgdGhpcy53YWxsZXRNYW5hZ2VyUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwiZ2V0VXNlclN0YXR1c1wiLFxuICAgICAgICAgICAgcGFyYW1zOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodXNlclN0YXR1cy5zdGF0dXMgPT09IFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9JTklUSUFMSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9JTklUSUFMSVpFRCxcbiAgICAgICAgICAgICAgICAuLi51c2VyU3RhdHVzLnVzZXIsXG4gICAgICAgICAgICAgICAgYWNjb3VudDogYXdhaXQgdGhpcy5nZXRBY2NvdW50KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VyU3RhdHVzLnN0YXR1cyA9PT0gVXNlcldhbGxldFN0YXR1cy5MT0dHRURfSU5fTkVXX0RFVklDRSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9VTklOSVRJQUxJWkVELFxuICAgICAgICAgICAgICAgIC4uLnVzZXJTdGF0dXMudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJTdGF0dXMuc3RhdHVzID09PSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9JTl9XQUxMRVRfVU5JTklUSUFMSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9VTklOSVRJQUxJWkVELFxuICAgICAgICAgICAgICAgIC4uLnVzZXJTdGF0dXMudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9nZ2VkIG91dFxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHVzZXJTdGF0dXMuc3RhdHVzIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYWNjb3VudCB0aGF0IGNvbW11bmljYXRlcyB3aXRoIHRoZSBpRnJhbWUgZm9yIHNpZ25pbmcgb3BlcmF0aW9uc1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGdldEFjY291bnQoKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJpZXIgPSB0aGlzXG4gICAgICAgICAgICAud2FsbGV0TWFuYWdlclF1ZXJpZXI7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IHRoaXMuY2xpZW50O1xuICAgICAgICBjb25zdCBwYXJ0bmVySWQgPSB0aGlzLmVjb3N5c3RlbT8ucGFydG5lcklkO1xuICAgICAgICBjb25zdCBpc0Vjb3N5c3RlbSA9ICEhdGhpcy5lY29zeXN0ZW07XG4gICAgICAgIGNvbnN0IHBlcm1pc3Npb25zID0gdGhpcy5lY29zeXN0ZW0/LnBhcnRuZXJJZFxuICAgICAgICAgICAgPyBhd2FpdCBnZXRFY29zeXN0ZW1QYXJ0bmVyUGVybWlzc2lvbnModGhpcy5lY29zeXN0ZW0uaWQsIHRoaXMuZWNvc3lzdGVtPy5wYXJ0bmVySWQpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgeyBhZGRyZXNzIH0gPSBhd2FpdCBxdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJnZXRBZGRyZXNzXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IF9zaWduVHJhbnNhY3Rpb24gPSBhc3luYyAodHgpID0+IHtcbiAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogZXRoZXJzIHR4IHRyYW5zZm9ybWF0aW9uXG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB0bzogdHgudG8gPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGRhdGE6IHR4LmRhdGEsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHR4LnZhbHVlLFxuICAgICAgICAgICAgICAgIGdhc0xpbWl0OiB0eC5nYXMsXG4gICAgICAgICAgICAgICAgbm9uY2U6IHR4Lm5vbmNlLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IHR4LmNoYWluSWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHR4Lm1heEZlZVBlckdhcykge1xuICAgICAgICAgICAgICAgIC8vIGV0aGVycyAoaW4gdGhlIGlmcmFtZSkgcmVqZWN0cyBhbnkgdHlwZSAwIHRyYXNhY3Rpb24gd2l0aCB1bmtub3duIGtleXNcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHJlbW92ZSB0aGlzIG9uY2UgaWZyYW1lIGlzIHVwZ3JhZGVkIHRvIHY1XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24uYWNjZXNzTGlzdCA9IHR4LmFjY2Vzc0xpc3Q7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ubWF4RmVlUGVyR2FzID0gdHgubWF4RmVlUGVyR2FzO1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm1heFByaW9yaXR5RmVlUGVyR2FzID0gdHgubWF4UHJpb3JpdHlGZWVQZXJHYXM7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24udHlwZSA9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5nYXNQcmljZSA9IHR4Lmdhc1ByaWNlO1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLnR5cGUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgUlBDX1VSTCA9IGdldFRoaXJkd2ViRG9tYWlucygpLnJwYztcbiAgICAgICAgICAgIGNvbnN0IHsgc2lnbmVkVHJhbnNhY3Rpb24gfSA9IGF3YWl0IHF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJzaWduVHJhbnNhY3Rpb25cIixcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IHR4LmNoYWluSWQsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRuZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgcnBjRW5kcG9pbnQ6IGBodHRwczovLyR7dHguY2hhaW5JZH0uJHtSUENfVVJMfWAsIC8vIFRPRE8gKGV3KSBzaG91bGRudCBiZSBuZWVkZWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIENhbiBoaWRlIHRoZSBpZnJhbWUgaWYgdGhlIHBhcnRuZXIgaGFzIGZ1bGwgY29udHJvbCAobm8gdXNlciBhcHByb3ZhbHMpXG4gICAgICAgICAgICAgICAgc2hvd0lmcmFtZTogcGVybWlzc2lvbnM/LnBlcm1pc3Npb25zLmluY2x1ZGVzKFwiRlVMTF9DT05UUk9MX1YxXCIpXG4gICAgICAgICAgICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgOiBpc0Vjb3N5c3RlbSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNpZ25lZFRyYW5zYWN0aW9uO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkcmVzczogZ2V0QWRkcmVzcyhhZGRyZXNzKSxcbiAgICAgICAgICAgIGFzeW5jIHNpZ25UcmFuc2FjdGlvbih0eCkge1xuICAgICAgICAgICAgICAgIGlmICghdHguY2hhaW5JZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjaGFpbklkIHJlcXVpcmVkIGluIHR4IHRvIHNpZ25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfc2lnblRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgLi4udHgsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IHR4LmNoYWluSWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgc2VuZFRyYW5zYWN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcnBjUmVxdWVzdCA9IGdldFJwY0NsaWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW46IGdldENhY2hlZENoYWluKHR4LmNoYWluSWQpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25lZFR4ID0gYXdhaXQgX3NpZ25UcmFuc2FjdGlvbih0eCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25IYXNoID0gYXdhaXQgZXRoX3NlbmRSYXdUcmFuc2FjdGlvbihycGNSZXF1ZXN0LCBzaWduZWRUeCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgc2lnbk1lc3NhZ2UoeyBtZXNzYWdlIH0pIHtcbiAgICAgICAgICAgICAgICAvLyBpbi1hcHAgd2FsbGV0cyB1c2UgZXRoZXJzIHRvIHNpZ24gbWVzc2FnZXMsIHdoaWNoIGFsd2F5cyBleHBlY3RzIGEgc3RyaW5nIChvciBieXRlcyBtYXliZSBidXQgc3RyaW5nIGlzIHNhZmVzdClcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlRGVjb2RlZCA9ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucmF3IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UucmF3O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoZXhUb1N0cmluZyhtZXNzYWdlLnJhdyk7XG4gICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNpZ25lZE1lc3NhZ2UgfSA9IGF3YWl0IHF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwic2lnbk1lc3NhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IGV0aGVycyB0eCB0cmFuc2Zvcm1hdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZURlY29kZWQsIC8vIG5lZWRzIGJ5dGVzIG9yIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydG5lcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSwgLy8gVE9ETyBjaGVjayBpZiB3ZSBuZWVkIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuIGhpZGUgdGhlIGlmcmFtZSBpZiB0aGUgcGFydG5lciBoYXMgZnVsbCBjb250cm9sIChubyB1c2VyIGFwcHJvdmFscylcbiAgICAgICAgICAgICAgICAgICAgc2hvd0lmcmFtZTogcGVybWlzc2lvbnM/LnBlcm1pc3Npb25zLmluY2x1ZGVzKFwiRlVMTF9DT05UUk9MX1YxXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlzRWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzaWduZWRNZXNzYWdlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jIHNpZ25UeXBlZERhdGEoX3R5cGVkRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFR5cGVkRGF0YSA9IHBhcnNlVHlwZWREYXRhKF90eXBlZERhdGEpO1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0aW5nIEVJUDcxMiBEb21haW4gYXMgaXQgcmVzdWx0cyBpbiBhbWJpZ3VvdXMgcHJpbWFyeSB0eXBlIG9uIHNvbWUgY2FzZXNcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGhhcHBlbnMgd2hlbiBnb2luZyBmcm9tIHZpZW0gdG8gZXRoZXJzIHZpYSB0aGUgaWZyYW1lXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZFR5cGVkRGF0YS50eXBlcz8uRUlQNzEyRG9tYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFR5cGVkRGF0YS50eXBlcy5FSVA3MTJEb21haW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGRvbWFpbiA9IHBhcnNlZFR5cGVkRGF0YS5kb21haW47XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhaW5JZCA9IGRvbWFpbj8uY2hhaW5JZDtcbiAgICAgICAgICAgICAgICBjb25zdCBkb21haW5EYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogZG9tYWluPy52ZXJpZnlpbmdDb250cmFjdCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZG9tYWluPy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBkb21haW4/LnZlcnNpb24sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBjaGFpbiBpZCBjYW4ndCBiZSBpbmNsdWRlZCBpZiBpdCB3YXNuJ3QgZXhwbGljaXRseSBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICBpZiAoY2hhaW5JZCkge1xuICAgICAgICAgICAgICAgICAgICBkb21haW5EYXRhLmNoYWluSWQgPSBjaGFpbklkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBSUENfVVJMID0gZ2V0VGhpcmR3ZWJEb21haW5zKCkucnBjO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2lnbmVkVHlwZWREYXRhIH0gPSBhd2FpdCBxdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcInNpZ25UeXBlZERhdGFWNFwiLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbjogZG9tYWluRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVzOiBwYXJzZWRUeXBlZERhdGEudHlwZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBwYXJzZWRUeXBlZERhdGEubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IGNoYWluSWQgfHwgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJwY0VuZHBvaW50OiBgaHR0cHM6Ly8ke2NoYWluSWR9LiR7UlBDX1VSTH1gLCAvLyBUT0RPIChldykgc2hvdWxkbnQgYmUgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbiBoaWRlIHRoZSBpZnJhbWUgaWYgdGhlIHBhcnRuZXIgaGFzIGZ1bGwgY29udHJvbCAobm8gdXNlciBhcHByb3ZhbHMpXG4gICAgICAgICAgICAgICAgICAgIHNob3dJZnJhbWU6IHBlcm1pc3Npb25zPy5wZXJtaXNzaW9ucy5pbmNsdWRlcyhcIkZVTExfQ09OVFJPTF9WMVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpc0Vjb3N5c3RlbSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2lnbmVkVHlwZWREYXRhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbi1hcHAtYWNjb3VudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/in-app-account.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/web-connector.js":
/*!********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/web-connector.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InAppWebConnector: function() { return /* binding */ InAppWebConnector; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/authentication/type.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/type.js\");\n/* harmony import */ var _utils_iFrameCommunication_InAppWalletIframeCommunicator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/iFrameCommunication/InAppWalletIframeCommunicator.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js\");\n/* harmony import */ var _auth_iframe_auth_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth/iframe-auth.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js\");\n/* harmony import */ var _auth_oauth_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth/oauth.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/oauth.js\");\n/* harmony import */ var _auth_passkeys_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./auth/passkeys.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/passkeys.js\");\n/* harmony import */ var _in_app_account_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./in-app-account.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/in-app-account.js\");\n\n\n\n\n\n\n\n/**\n * @internal\n */\nclass InAppWebConnector {\n    isClientIdLegacyPaper(clientId) {\n        if (clientId.indexOf(\"-\") > 0 && clientId.length === 36) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * @example\n     * `const thirdwebInAppWallet = new InAppWalletSdk({ clientId: \"\", chain: \"Goerli\" });`\n     * @internal\n     */\n    constructor({ client, onAuthSuccess, ecosystem, }) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"querier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"wallet\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * Used to manage the Auth state of the user.\n         */\n        Object.defineProperty(this, \"auth\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        if (this.isClientIdLegacyPaper(client.clientId)) {\n            throw new Error(\"You are using a legacy clientId. Please use the clientId found on the thirdweb dashboard settings page\");\n        }\n        const baseUrl = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebBaseUrl)(\"inAppWallet\");\n        this.client = client;\n        this.querier = new _utils_iFrameCommunication_InAppWalletIframeCommunicator_js__WEBPACK_IMPORTED_MODULE_1__.InAppWalletIframeCommunicator({\n            clientId: client.clientId,\n            ecosystem,\n            baseUrl,\n        });\n        this.wallet = new _in_app_account_js__WEBPACK_IMPORTED_MODULE_2__.IFrameWallet({\n            client,\n            ecosystem,\n            querier: this.querier,\n        });\n        this.auth = new _auth_iframe_auth_js__WEBPACK_IMPORTED_MODULE_3__.Auth({\n            client,\n            querier: this.querier,\n            baseUrl,\n            ecosystem,\n            onAuthSuccess: async (authResult) => {\n                onAuthSuccess?.(authResult);\n                await this.wallet.postWalletSetUp({\n                    ...authResult.walletDetails,\n                    walletUserId: authResult.storedToken.authDetails.userWalletId,\n                });\n                await this.querier.call({\n                    procedureName: \"initIframe\",\n                    params: {\n                        partnerId: ecosystem?.partnerId,\n                        ecosystemId: ecosystem?.id,\n                        deviceShareStored: authResult.walletDetails.deviceShareStored,\n                        clientId: this.client.clientId,\n                        walletUserId: authResult.storedToken.authDetails.userWalletId,\n                        authCookie: authResult.storedToken.cookieString,\n                    },\n                });\n                return {\n                    user: {\n                        status: _core_authentication_type_js__WEBPACK_IMPORTED_MODULE_4__.UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED,\n                        authDetails: authResult.storedToken.authDetails,\n                        account: await this.wallet.getAccount(),\n                        walletAddress: authResult.walletDetails.walletAddress,\n                    },\n                };\n            },\n        });\n    }\n    /**\n     * Gets the usr if they are logged in\n     * @example\n     * ```js\n     *  const user = await thirdwebInAppWallet.getUser();\n     *  switch (user.status) {\n     *     case UserWalletStatus.LOGGED_OUT: {\n     *       // User is logged out, call one of the auth methods on thirdwebInAppWallet.auth to authenticate the user\n     *       break;\n     *     }\n     *     case UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED: {\n     *       // user is logged in and wallet is all set up.\n     *       // You have access to:\n     *       user.status;\n     *       user.authDetails;\n     *       user.walletAddress;\n     *       user.wallet;\n     *       break;\n     *     }\n     * }\n     * ```\n     * @returns GetUser - an object to containing various information on the user statuses\n     */\n    async getUser() {\n        return this.wallet.getUserWalletStatus();\n    }\n    getAccount() {\n        return this.wallet.getAccount();\n    }\n    async preAuthenticate(args) {\n        const strategy = args.strategy;\n        switch (strategy) {\n            case \"email\": {\n                return this.auth.sendEmailLoginOtp({ email: args.email });\n            }\n            case \"phone\": {\n                return this.auth.sendSmsLoginOtp({ phoneNumber: args.phoneNumber });\n            }\n            default:\n                assertUnreachable(strategy, `Provider: ${strategy} doesn't require pre-authentication`);\n        }\n    }\n    authenticateWithRedirect(strategy) {\n        (0,_auth_oauth_js__WEBPACK_IMPORTED_MODULE_5__.loginWithOauthRedirect)({\n            authOption: strategy,\n            client: this.wallet.client,\n            ecosystem: this.wallet.ecosystem,\n        });\n    }\n    async loginWithAuthToken(authResult) {\n        return this.auth.loginWithAuthToken(authResult);\n    }\n    async authenticate(args) {\n        const strategy = args.strategy;\n        switch (strategy) {\n            case \"email\": {\n                return await this.auth.verifyEmailLoginOtp({\n                    email: args.email,\n                    otp: args.verificationCode,\n                });\n            }\n            case \"phone\": {\n                return await this.auth.verifySmsLoginOtp({\n                    otp: args.verificationCode,\n                    phoneNumber: args.phoneNumber,\n                });\n            }\n            case \"jwt\": {\n                return this.auth.loginWithCustomJwt({\n                    jwt: args.jwt,\n                    encryptionKey: args.encryptionKey,\n                });\n            }\n            case \"auth_endpoint\": {\n                return this.auth.loginWithCustomAuthEndpoint({\n                    payload: args.payload,\n                    encryptionKey: args.encryptionKey,\n                });\n            }\n            case \"iframe_email_verification\": {\n                return this.auth.loginWithEmailOtp({\n                    email: args.email,\n                });\n            }\n            case \"iframe\": {\n                return this.auth.loginWithModal();\n            }\n            case \"passkey\": {\n                if (args.type === \"sign-up\") {\n                    const authToken = await (0,_auth_passkeys_js__WEBPACK_IMPORTED_MODULE_6__.registerPasskey)({\n                        client: this.wallet.client,\n                        ecosystem: this.wallet.ecosystem,\n                        authenticatorType: args.authenticatorType,\n                        username: args.passkeyName,\n                    });\n                    return this.loginWithAuthToken(authToken);\n                }\n                const authToken = await (0,_auth_passkeys_js__WEBPACK_IMPORTED_MODULE_6__.loginWithPasskey)({\n                    client: this.wallet.client,\n                    ecosystem: this.wallet.ecosystem,\n                    authenticatorType: args.authenticatorType,\n                });\n                return this.loginWithAuthToken(authToken);\n            }\n            case \"apple\":\n            case \"facebook\":\n            case \"google\":\n            case \"farcaster\":\n            case \"telegram\":\n            case \"discord\": {\n                const authToken = await (0,_auth_oauth_js__WEBPACK_IMPORTED_MODULE_5__.loginWithOauth)({\n                    authOption: strategy,\n                    client: this.wallet.client,\n                    ecosystem: this.wallet.ecosystem,\n                    closeOpenedWindow: args.closeOpenedWindow,\n                    openedWindow: args.openedWindow,\n                });\n                return this.loginWithAuthToken(authToken);\n            }\n            default:\n                assertUnreachable(strategy);\n        }\n    }\n    async logout() {\n        return await this.auth.logout();\n    }\n}\nfunction assertUnreachable(x, message) {\n    throw new Error(message ?? `Invalid param: ${x}`);\n}\n//# sourceMappingURL=web-connector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL3dlYi1jb25uZWN0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBa0U7QUFDSTtBQUN3QztBQUNqRTtBQUM0QjtBQUNGO0FBQ3BCO0FBQ25EO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCwrQkFBK0IsRUFBRTtBQUMxRjtBQUNBO0FBQ0Esa0JBQWtCLG1DQUFtQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxRUFBa0I7QUFDMUM7QUFDQSwyQkFBMkIsc0hBQTZCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwwQkFBMEIsNERBQVk7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHdCQUF3QixzREFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0NBQWdDLDBFQUFnQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELG1CQUFtQjtBQUN4RTtBQUNBO0FBQ0EsbURBQW1ELCtCQUErQjtBQUNsRjtBQUNBO0FBQ0EseURBQXlELFVBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzRUFBc0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGtFQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSx3Q0FBd0MsbUVBQWdCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDhEQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxFQUFFO0FBQ25EO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL3dlYi9saWIvd2ViLWNvbm5lY3Rvci5qcz9lNThmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFRoaXJkd2ViQmFzZVVybCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9kb21haW5zLmpzXCI7XG5pbXBvcnQgeyBVc2VyV2FsbGV0U3RhdHVzLCB9IGZyb20gXCIuLi8uLi9jb3JlL2F1dGhlbnRpY2F0aW9uL3R5cGUuanNcIjtcbmltcG9ydCB7IEluQXBwV2FsbGV0SWZyYW1lQ29tbXVuaWNhdG9yIH0gZnJvbSBcIi4uL3V0aWxzL2lGcmFtZUNvbW11bmljYXRpb24vSW5BcHBXYWxsZXRJZnJhbWVDb21tdW5pY2F0b3IuanNcIjtcbmltcG9ydCB7IEF1dGggfSBmcm9tIFwiLi9hdXRoL2lmcmFtZS1hdXRoLmpzXCI7XG5pbXBvcnQgeyBsb2dpbldpdGhPYXV0aCwgbG9naW5XaXRoT2F1dGhSZWRpcmVjdCB9IGZyb20gXCIuL2F1dGgvb2F1dGguanNcIjtcbmltcG9ydCB7IGxvZ2luV2l0aFBhc3NrZXksIHJlZ2lzdGVyUGFzc2tleSB9IGZyb20gXCIuL2F1dGgvcGFzc2tleXMuanNcIjtcbmltcG9ydCB7IElGcmFtZVdhbGxldCB9IGZyb20gXCIuL2luLWFwcC1hY2NvdW50LmpzXCI7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgSW5BcHBXZWJDb25uZWN0b3Ige1xuICAgIGlzQ2xpZW50SWRMZWdhY3lQYXBlcihjbGllbnRJZCkge1xuICAgICAgICBpZiAoY2xpZW50SWQuaW5kZXhPZihcIi1cIikgPiAwICYmIGNsaWVudElkLmxlbmd0aCA9PT0gMzYpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgY29uc3QgdGhpcmR3ZWJJbkFwcFdhbGxldCA9IG5ldyBJbkFwcFdhbGxldFNkayh7IGNsaWVudElkOiBcIlwiLCBjaGFpbjogXCJHb2VybGlcIiB9KTtgXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBjbGllbnQsIG9uQXV0aFN1Y2Nlc3MsIGVjb3N5c3RlbSwgfSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicXVlcmllclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3YWxsZXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gbWFuYWdlIHRoZSBBdXRoIHN0YXRlIG9mIHRoZSB1c2VyLlxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXV0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5pc0NsaWVudElkTGVnYWN5UGFwZXIoY2xpZW50LmNsaWVudElkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSB1c2luZyBhIGxlZ2FjeSBjbGllbnRJZC4gUGxlYXNlIHVzZSB0aGUgY2xpZW50SWQgZm91bmQgb24gdGhlIHRoaXJkd2ViIGRhc2hib2FyZCBzZXR0aW5ncyBwYWdlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhc2VVcmwgPSBnZXRUaGlyZHdlYkJhc2VVcmwoXCJpbkFwcFdhbGxldFwiKTtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMucXVlcmllciA9IG5ldyBJbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvcih7XG4gICAgICAgICAgICBjbGllbnRJZDogY2xpZW50LmNsaWVudElkLFxuICAgICAgICAgICAgZWNvc3lzdGVtLFxuICAgICAgICAgICAgYmFzZVVybCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2FsbGV0ID0gbmV3IElGcmFtZVdhbGxldCh7XG4gICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICBlY29zeXN0ZW0sXG4gICAgICAgICAgICBxdWVyaWVyOiB0aGlzLnF1ZXJpZXIsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmF1dGggPSBuZXcgQXV0aCh7XG4gICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICBxdWVyaWVyOiB0aGlzLnF1ZXJpZXIsXG4gICAgICAgICAgICBiYXNlVXJsLFxuICAgICAgICAgICAgZWNvc3lzdGVtLFxuICAgICAgICAgICAgb25BdXRoU3VjY2VzczogYXN5bmMgKGF1dGhSZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBvbkF1dGhTdWNjZXNzPy4oYXV0aFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWxsZXQucG9zdFdhbGxldFNldFVwKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYXV0aFJlc3VsdC53YWxsZXREZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICB3YWxsZXRVc2VySWQ6IGF1dGhSZXN1bHQuc3RvcmVkVG9rZW4uYXV0aERldGFpbHMudXNlcldhbGxldElkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJpbml0SWZyYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydG5lcklkOiBlY29zeXN0ZW0/LnBhcnRuZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVjb3N5c3RlbUlkOiBlY29zeXN0ZW0/LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlU2hhcmVTdG9yZWQ6IGF1dGhSZXN1bHQud2FsbGV0RGV0YWlscy5kZXZpY2VTaGFyZVN0b3JlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudC5jbGllbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGxldFVzZXJJZDogYXV0aFJlc3VsdC5zdG9yZWRUb2tlbi5hdXRoRGV0YWlscy51c2VyV2FsbGV0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoQ29va2llOiBhdXRoUmVzdWx0LnN0b3JlZFRva2VuLmNvb2tpZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9JTklUSUFMSVpFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhEZXRhaWxzOiBhdXRoUmVzdWx0LnN0b3JlZFRva2VuLmF1dGhEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogYXdhaXQgdGhpcy53YWxsZXQuZ2V0QWNjb3VudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2FsbGV0QWRkcmVzczogYXV0aFJlc3VsdC53YWxsZXREZXRhaWxzLndhbGxldEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB1c3IgaWYgdGhleSBhcmUgbG9nZ2VkIGluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBqc1xuICAgICAqICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcmR3ZWJJbkFwcFdhbGxldC5nZXRVc2VyKCk7XG4gICAgICogIHN3aXRjaCAodXNlci5zdGF0dXMpIHtcbiAgICAgKiAgICAgY2FzZSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9PVVQ6IHtcbiAgICAgKiAgICAgICAvLyBVc2VyIGlzIGxvZ2dlZCBvdXQsIGNhbGwgb25lIG9mIHRoZSBhdXRoIG1ldGhvZHMgb24gdGhpcmR3ZWJJbkFwcFdhbGxldC5hdXRoIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlclxuICAgICAqICAgICAgIGJyZWFrO1xuICAgICAqICAgICB9XG4gICAgICogICAgIGNhc2UgVXNlcldhbGxldFN0YXR1cy5MT0dHRURfSU5fV0FMTEVUX0lOSVRJQUxJWkVEOiB7XG4gICAgICogICAgICAgLy8gdXNlciBpcyBsb2dnZWQgaW4gYW5kIHdhbGxldCBpcyBhbGwgc2V0IHVwLlxuICAgICAqICAgICAgIC8vIFlvdSBoYXZlIGFjY2VzcyB0bzpcbiAgICAgKiAgICAgICB1c2VyLnN0YXR1cztcbiAgICAgKiAgICAgICB1c2VyLmF1dGhEZXRhaWxzO1xuICAgICAqICAgICAgIHVzZXIud2FsbGV0QWRkcmVzcztcbiAgICAgKiAgICAgICB1c2VyLndhbGxldDtcbiAgICAgKiAgICAgICBicmVhaztcbiAgICAgKiAgICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAcmV0dXJucyBHZXRVc2VyIC0gYW4gb2JqZWN0IHRvIGNvbnRhaW5pbmcgdmFyaW91cyBpbmZvcm1hdGlvbiBvbiB0aGUgdXNlciBzdGF0dXNlc1xuICAgICAqL1xuICAgIGFzeW5jIGdldFVzZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndhbGxldC5nZXRVc2VyV2FsbGV0U3RhdHVzKCk7XG4gICAgfVxuICAgIGdldEFjY291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndhbGxldC5nZXRBY2NvdW50KCk7XG4gICAgfVxuICAgIGFzeW5jIHByZUF1dGhlbnRpY2F0ZShhcmdzKSB7XG4gICAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gYXJncy5zdHJhdGVneTtcbiAgICAgICAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSBcImVtYWlsXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoLnNlbmRFbWFpbExvZ2luT3RwKHsgZW1haWw6IGFyZ3MuZW1haWwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwicGhvbmVcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGguc2VuZFNtc0xvZ2luT3RwKHsgcGhvbmVOdW1iZXI6IGFyZ3MucGhvbmVOdW1iZXIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydFVucmVhY2hhYmxlKHN0cmF0ZWd5LCBgUHJvdmlkZXI6ICR7c3RyYXRlZ3l9IGRvZXNuJ3QgcmVxdWlyZSBwcmUtYXV0aGVudGljYXRpb25gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3Qoc3RyYXRlZ3kpIHtcbiAgICAgICAgbG9naW5XaXRoT2F1dGhSZWRpcmVjdCh7XG4gICAgICAgICAgICBhdXRoT3B0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgIGNsaWVudDogdGhpcy53YWxsZXQuY2xpZW50LFxuICAgICAgICAgICAgZWNvc3lzdGVtOiB0aGlzLndhbGxldC5lY29zeXN0ZW0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBsb2dpbldpdGhBdXRoVG9rZW4oYXV0aFJlc3VsdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdXRoLmxvZ2luV2l0aEF1dGhUb2tlbihhdXRoUmVzdWx0KTtcbiAgICB9XG4gICAgYXN5bmMgYXV0aGVudGljYXRlKGFyZ3MpIHtcbiAgICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBhcmdzLnN0cmF0ZWd5O1xuICAgICAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlIFwiZW1haWxcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmF1dGgudmVyaWZ5RW1haWxMb2dpbk90cCh7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBhcmdzLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBvdHA6IGFyZ3MudmVyaWZpY2F0aW9uQ29kZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJwaG9uZVwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuYXV0aC52ZXJpZnlTbXNMb2dpbk90cCh7XG4gICAgICAgICAgICAgICAgICAgIG90cDogYXJncy52ZXJpZmljYXRpb25Db2RlLFxuICAgICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogYXJncy5waG9uZU51bWJlcixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJqd3RcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGgubG9naW5XaXRoQ3VzdG9tSnd0KHtcbiAgICAgICAgICAgICAgICAgICAgand0OiBhcmdzLmp3dCxcbiAgICAgICAgICAgICAgICAgICAgZW5jcnlwdGlvbktleTogYXJncy5lbmNyeXB0aW9uS2V5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImF1dGhfZW5kcG9pbnRcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGgubG9naW5XaXRoQ3VzdG9tQXV0aEVuZHBvaW50KHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogYXJncy5wYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICBlbmNyeXB0aW9uS2V5OiBhcmdzLmVuY3J5cHRpb25LZXksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaWZyYW1lX2VtYWlsX3ZlcmlmaWNhdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aC5sb2dpbldpdGhFbWFpbE90cCh7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBhcmdzLmVtYWlsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImlmcmFtZVwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aC5sb2dpbldpdGhNb2RhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInBhc3NrZXlcIjoge1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLnR5cGUgPT09IFwic2lnbi11cFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IHJlZ2lzdGVyUGFzc2tleSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQ6IHRoaXMud2FsbGV0LmNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy53YWxsZXQuZWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRvclR5cGU6IGFyZ3MuYXV0aGVudGljYXRvclR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogYXJncy5wYXNza2V5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvZ2luV2l0aEF1dGhUb2tlbihhdXRoVG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSBhd2FpdCBsb2dpbldpdGhQYXNza2V5KHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50OiB0aGlzLndhbGxldC5jbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy53YWxsZXQuZWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdG9yVHlwZTogYXJncy5hdXRoZW50aWNhdG9yVHlwZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhBdXRoVG9rZW4oYXV0aFRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJhcHBsZVwiOlxuICAgICAgICAgICAgY2FzZSBcImZhY2Vib29rXCI6XG4gICAgICAgICAgICBjYXNlIFwiZ29vZ2xlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZmFyY2FzdGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwidGVsZWdyYW1cIjpcbiAgICAgICAgICAgIGNhc2UgXCJkaXNjb3JkXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSBhd2FpdCBsb2dpbldpdGhPYXV0aCh7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhPcHRpb246IHN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICBjbGllbnQ6IHRoaXMud2FsbGV0LmNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgZWNvc3lzdGVtOiB0aGlzLndhbGxldC5lY29zeXN0ZW0sXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlT3BlbmVkV2luZG93OiBhcmdzLmNsb3NlT3BlbmVkV2luZG93LFxuICAgICAgICAgICAgICAgICAgICBvcGVuZWRXaW5kb3c6IGFyZ3Mub3BlbmVkV2luZG93LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvZ2luV2l0aEF1dGhUb2tlbihhdXRoVG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhc3NlcnRVbnJlYWNoYWJsZShzdHJhdGVneSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbG9nb3V0KCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5hdXRoLmxvZ291dCgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFVucmVhY2hhYmxlKHgsIG1lc3NhZ2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSA/PyBgSW52YWxpZCBwYXJhbTogJHt4fWApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViLWNvbm5lY3Rvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/web-connector.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IframeCommunicator: function() { return /* binding */ IframeCommunicator; }\n/* harmony export */ });\nfunction sleep(seconds) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, seconds * 1000);\n    });\n}\nconst iframeBaseStyle = {\n    height: \"100%\",\n    width: \"100%\",\n    border: \"none\",\n    backgroundColor: \"transparent\",\n    colorScheme: \"light\",\n    position: \"fixed\",\n    top: \"0px\",\n    right: \"0px\",\n    zIndex: \"2147483646\",\n    display: \"none\",\n};\n// Global var to help track iframe state\nconst isIframeLoaded = new Map();\n/**\n * @internal\n */\n// biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\nclass IframeCommunicator {\n    /**\n     * @internal\n     */\n    constructor({ link, baseUrl, iframeId, container = document.body, onIframeInitialize, }) {\n        Object.defineProperty(this, \"iframe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"POLLING_INTERVAL_SECONDS\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 1.4\n        });\n        Object.defineProperty(this, \"iframeBaseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.iframeBaseUrl = baseUrl;\n        // Creating the IFrame element for communication\n        let iframe = document.getElementById(iframeId);\n        const hrefLink = new URL(link);\n        // TODO (ew) - bring back version tracking\n        // const sdkVersion = process.env.THIRDWEB_EWS_SDK_VERSION;\n        // if (!sdkVersion) {\n        //   throw new Error(\"Missing THIRDWEB_EWS_SDK_VERSION env var\");\n        // }\n        // hrefLink.searchParams.set(\"sdkVersion\", sdkVersion);\n        if (!iframe || iframe.src !== hrefLink.href) {\n            // ! Do not update the hrefLink here or it'll cause multiple re-renders\n            iframe = document.createElement(\"iframe\");\n            const mergedIframeStyles = {\n                ...iframeBaseStyle,\n            };\n            Object.assign(iframe.style, mergedIframeStyles);\n            iframe.setAttribute(\"id\", iframeId);\n            iframe.setAttribute(\"fetchpriority\", \"high\");\n            container.appendChild(iframe);\n            iframe.src = hrefLink.href;\n            // iframe.setAttribute(\"data-version\", sdkVersion);\n            // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n            const onIframeLoaded = (event) => {\n                if (event.data.eventType === \"ewsIframeLoaded\") {\n                    window.removeEventListener(\"message\", onIframeLoaded);\n                    if (!iframe) {\n                        console.warn(\"thirdweb iFrame not found\");\n                        return;\n                    }\n                    this.onIframeLoadHandler(iframe, onIframeInitialize)();\n                }\n            };\n            window.addEventListener(\"message\", onIframeLoaded);\n        }\n        this.iframe = iframe;\n    }\n    // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n    async onIframeLoadedInitVariables() {\n        return {};\n    }\n    /**\n     * @internal\n     */\n    onIframeLoadHandler(iframe, onIframeInitialize) {\n        return async () => {\n            const channel = new MessageChannel();\n            const promise = new Promise((res, rej) => {\n                // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n                channel.port1.onmessage = (event) => {\n                    const { data } = event;\n                    channel.port1.close();\n                    if (!data.success) {\n                        rej(new Error(data.error));\n                    }\n                    isIframeLoaded.set(iframe.src, true);\n                    if (onIframeInitialize) {\n                        onIframeInitialize();\n                    }\n                    res(true);\n                };\n            });\n            const INIT_IFRAME_EVENT = \"initIframe\";\n            iframe?.contentWindow?.postMessage(\n            // ? We initialise the iframe with a bunch\n            // of useful information so that we don't have to pass it\n            // through in each of the future call. This would be where we do it.\n            {\n                eventType: INIT_IFRAME_EVENT,\n                data: await this.onIframeLoadedInitVariables(),\n            }, this.iframeBaseUrl, [channel.port2]);\n            await promise;\n        };\n    }\n    /**\n     * @internal\n     */\n    async call({ procedureName, params, showIframe = false, }) {\n        while (!isIframeLoaded.get(this.iframe.src)) {\n            await sleep(this.POLLING_INTERVAL_SECONDS);\n        }\n        if (showIframe) {\n            this.iframe.style.display = \"block\";\n            // magic number to let the display render before performing the animation of the modal in\n            await sleep(0.005);\n        }\n        const channel = new MessageChannel();\n        const promise = new Promise((res, rej) => {\n            // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n            channel.port1.onmessage = async (event) => {\n                const { data } = event;\n                channel.port1.close();\n                if (showIframe) {\n                    // magic number to let modal fade out before hiding it\n                    await sleep(0.1);\n                    this.iframe.style.display = \"none\";\n                }\n                if (!data.success) {\n                    rej(new Error(data.error));\n                }\n                else {\n                    res(data.data);\n                }\n            };\n        });\n        this.iframe.contentWindow?.postMessage({ eventType: procedureName, data: params }, this.iframeBaseUrl, [channel.port2]);\n        return promise;\n    }\n    /**\n     * This has to be called by any iframe that will be removed from the DOM.\n     * Use to make sure that we reset the global loaded state of the particular iframe.src\n     * @internal\n     */\n    destroy() {\n        isIframeLoaded.delete(this.iframe.src);\n    }\n}\n//# sourceMappingURL=IframeCommunicator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JZnJhbWVDb21tdW5pY2F0b3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHlFQUF5RTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNENBQTRDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGlEQUFpRCx3Q0FBd0M7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JZnJhbWVDb21tdW5pY2F0b3IuanM/NWY5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBzbGVlcChzZWNvbmRzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgc2Vjb25kcyAqIDEwMDApO1xuICAgIH0pO1xufVxuY29uc3QgaWZyYW1lQmFzZVN0eWxlID0ge1xuICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgY29sb3JTY2hlbWU6IFwibGlnaHRcIixcbiAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgIHRvcDogXCIwcHhcIixcbiAgICByaWdodDogXCIwcHhcIixcbiAgICB6SW5kZXg6IFwiMjE0NzQ4MzY0NlwiLFxuICAgIGRpc3BsYXk6IFwibm9uZVwiLFxufTtcbi8vIEdsb2JhbCB2YXIgdG8gaGVscCB0cmFjayBpZnJhbWUgc3RhdGVcbmNvbnN0IGlzSWZyYW1lTG9hZGVkID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBUT0RPOiBmaXggbGF0ZXJcbmV4cG9ydCBjbGFzcyBJZnJhbWVDb21tdW5pY2F0b3Ige1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgbGluaywgYmFzZVVybCwgaWZyYW1lSWQsIGNvbnRhaW5lciA9IGRvY3VtZW50LmJvZHksIG9uSWZyYW1lSW5pdGlhbGl6ZSwgfSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZnJhbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiUE9MTElOR19JTlRFUlZBTF9TRUNPTkRTXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAxLjRcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlmcmFtZUJhc2VVcmxcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pZnJhbWVCYXNlVXJsID0gYmFzZVVybDtcbiAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIElGcmFtZSBlbGVtZW50IGZvciBjb21tdW5pY2F0aW9uXG4gICAgICAgIGxldCBpZnJhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZnJhbWVJZCk7XG4gICAgICAgIGNvbnN0IGhyZWZMaW5rID0gbmV3IFVSTChsaW5rKTtcbiAgICAgICAgLy8gVE9ETyAoZXcpIC0gYnJpbmcgYmFjayB2ZXJzaW9uIHRyYWNraW5nXG4gICAgICAgIC8vIGNvbnN0IHNka1ZlcnNpb24gPSBwcm9jZXNzLmVudi5USElSRFdFQl9FV1NfU0RLX1ZFUlNJT047XG4gICAgICAgIC8vIGlmICghc2RrVmVyc2lvbikge1xuICAgICAgICAvLyAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgVEhJUkRXRUJfRVdTX1NES19WRVJTSU9OIGVudiB2YXJcIik7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gaHJlZkxpbmsuc2VhcmNoUGFyYW1zLnNldChcInNka1ZlcnNpb25cIiwgc2RrVmVyc2lvbik7XG4gICAgICAgIGlmICghaWZyYW1lIHx8IGlmcmFtZS5zcmMgIT09IGhyZWZMaW5rLmhyZWYpIHtcbiAgICAgICAgICAgIC8vICEgRG8gbm90IHVwZGF0ZSB0aGUgaHJlZkxpbmsgaGVyZSBvciBpdCdsbCBjYXVzZSBtdWx0aXBsZSByZS1yZW5kZXJzXG4gICAgICAgICAgICBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkSWZyYW1lU3R5bGVzID0ge1xuICAgICAgICAgICAgICAgIC4uLmlmcmFtZUJhc2VTdHlsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGlmcmFtZS5zdHlsZSwgbWVyZ2VkSWZyYW1lU3R5bGVzKTtcbiAgICAgICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpZnJhbWVJZCk7XG4gICAgICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwiZmV0Y2hwcmlvcml0eVwiLCBcImhpZ2hcIik7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgICAgIGlmcmFtZS5zcmMgPSBocmVmTGluay5ocmVmO1xuICAgICAgICAgICAgLy8gaWZyYW1lLnNldEF0dHJpYnV0ZShcImRhdGEtdmVyc2lvblwiLCBzZGtWZXJzaW9uKTtcbiAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogVE9ETzogZml4IGxhdGVyXG4gICAgICAgICAgICBjb25zdCBvbklmcmFtZUxvYWRlZCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhLmV2ZW50VHlwZSA9PT0gXCJld3NJZnJhbWVMb2FkZWRcIikge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25JZnJhbWVMb2FkZWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlmcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwidGhpcmR3ZWIgaUZyYW1lIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uSWZyYW1lTG9hZEhhbmRsZXIoaWZyYW1lLCBvbklmcmFtZUluaXRpYWxpemUpKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbklmcmFtZUxvYWRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZnJhbWUgPSBpZnJhbWU7XG4gICAgfVxuICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogVE9ETzogZml4IGxhdGVyXG4gICAgYXN5bmMgb25JZnJhbWVMb2FkZWRJbml0VmFyaWFibGVzKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG9uSWZyYW1lTG9hZEhhbmRsZXIoaWZyYW1lLCBvbklmcmFtZUluaXRpYWxpemUpIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IFRPRE86IGZpeCBsYXRlclxuICAgICAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwucG9ydDEuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlaihuZXcgRXJyb3IoZGF0YS5lcnJvcikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlzSWZyYW1lTG9hZGVkLnNldChpZnJhbWUuc3JjLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uSWZyYW1lSW5pdGlhbGl6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25JZnJhbWVJbml0aWFsaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzKHRydWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IElOSVRfSUZSQU1FX0VWRU5UID0gXCJpbml0SWZyYW1lXCI7XG4gICAgICAgICAgICBpZnJhbWU/LmNvbnRlbnRXaW5kb3c/LnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgLy8gPyBXZSBpbml0aWFsaXNlIHRoZSBpZnJhbWUgd2l0aCBhIGJ1bmNoXG4gICAgICAgICAgICAvLyBvZiB1c2VmdWwgaW5mb3JtYXRpb24gc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIHBhc3MgaXRcbiAgICAgICAgICAgIC8vIHRocm91Z2ggaW4gZWFjaCBvZiB0aGUgZnV0dXJlIGNhbGwuIFRoaXMgd291bGQgYmUgd2hlcmUgd2UgZG8gaXQuXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBJTklUX0lGUkFNRV9FVkVOVCxcbiAgICAgICAgICAgICAgICBkYXRhOiBhd2FpdCB0aGlzLm9uSWZyYW1lTG9hZGVkSW5pdFZhcmlhYmxlcygpLFxuICAgICAgICAgICAgfSwgdGhpcy5pZnJhbWVCYXNlVXJsLCBbY2hhbm5lbC5wb3J0Ml0pO1xuICAgICAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgY2FsbCh7IHByb2NlZHVyZU5hbWUsIHBhcmFtcywgc2hvd0lmcmFtZSA9IGZhbHNlLCB9KSB7XG4gICAgICAgIHdoaWxlICghaXNJZnJhbWVMb2FkZWQuZ2V0KHRoaXMuaWZyYW1lLnNyYykpIHtcbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKHRoaXMuUE9MTElOR19JTlRFUlZBTF9TRUNPTkRTKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvd0lmcmFtZSkge1xuICAgICAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIC8vIG1hZ2ljIG51bWJlciB0byBsZXQgdGhlIGRpc3BsYXkgcmVuZGVyIGJlZm9yZSBwZXJmb3JtaW5nIHRoZSBhbmltYXRpb24gb2YgdGhlIG1vZGFsIGluXG4gICAgICAgICAgICBhd2FpdCBzbGVlcCgwLjAwNSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IFRPRE86IGZpeCBsYXRlclxuICAgICAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIGNoYW5uZWwucG9ydDEuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hvd0lmcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWdpYyBudW1iZXIgdG8gbGV0IG1vZGFsIGZhZGUgb3V0IGJlZm9yZSBoaWRpbmcgaXRcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoMC4xKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICByZWoobmV3IEVycm9yKGRhdGEuZXJyb3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyhkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZSh7IGV2ZW50VHlwZTogcHJvY2VkdXJlTmFtZSwgZGF0YTogcGFyYW1zIH0sIHRoaXMuaWZyYW1lQmFzZVVybCwgW2NoYW5uZWwucG9ydDJdKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaGFzIHRvIGJlIGNhbGxlZCBieSBhbnkgaWZyYW1lIHRoYXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAgICAgKiBVc2UgdG8gbWFrZSBzdXJlIHRoYXQgd2UgcmVzZXQgdGhlIGdsb2JhbCBsb2FkZWQgc3RhdGUgb2YgdGhlIHBhcnRpY3VsYXIgaWZyYW1lLnNyY1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlzSWZyYW1lTG9hZGVkLmRlbGV0ZSh0aGlzLmlmcmFtZS5zcmMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlmcmFtZUNvbW11bmljYXRvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js ***!
  \**********************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IN_APP_WALLET_IFRAME_ID: function() { return /* binding */ IN_APP_WALLET_IFRAME_ID; },\n/* harmony export */   InAppWalletIframeCommunicator: function() { return /* binding */ InAppWalletIframeCommunicator; },\n/* harmony export */   createInAppWalletIframeLink: function() { return /* binding */ createInAppWalletIframeLink; }\n/* harmony export */ });\n/* harmony import */ var _core_constants_settings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/constants/settings.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/constants/settings.js\");\n/* harmony import */ var _Storage_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Storage/LocalStorage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/Storage/LocalStorage.js\");\n/* harmony import */ var _IframeCommunicator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IframeCommunicator.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js\");\n\n\n\n/**\n * @internal\n */\nclass InAppWalletIframeCommunicator extends _IframeCommunicator_js__WEBPACK_IMPORTED_MODULE_0__.IframeCommunicator {\n    /**\n     * @internal\n     */\n    constructor({ clientId, baseUrl, ecosystem, }) {\n        super({\n            iframeId: IN_APP_WALLET_IFRAME_ID + (ecosystem?.id || \"\"),\n            link: createInAppWalletIframeLink({\n                clientId,\n                path: _core_constants_settings_js__WEBPACK_IMPORTED_MODULE_1__.IN_APP_WALLET_PATH,\n                ecosystem,\n                baseUrl,\n            }).href,\n            baseUrl,\n            container: document.body,\n        });\n        Object.defineProperty(this, \"clientId\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.clientId = clientId;\n        this.ecosystem = ecosystem;\n    }\n    /**\n     * @internal\n     */\n    async onIframeLoadedInitVariables() {\n        const localStorage = new _Storage_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__.LocalStorage({\n            clientId: this.clientId,\n            ecosystemId: this.ecosystem?.id,\n        });\n        return {\n            authCookie: await localStorage.getAuthCookie(),\n            deviceShareStored: await localStorage.getDeviceShare(),\n            walletUserId: await localStorage.getWalletUserId(),\n            clientId: this.clientId,\n            partnerId: this.ecosystem?.partnerId,\n            ecosystemId: this.ecosystem?.id,\n        };\n    }\n}\n// This is the URL and ID tag of the iFrame that we communicate with\n/**\n * @internal\n */\nfunction createInAppWalletIframeLink({ clientId, baseUrl, path, ecosystem, queryParams, }) {\n    const inAppWalletUrl = new URL(`${path}`, baseUrl);\n    if (queryParams) {\n        for (const queryKey of Object.keys(queryParams)) {\n            inAppWalletUrl.searchParams.set(queryKey, queryParams[queryKey]?.toString() || \"\");\n        }\n    }\n    inAppWalletUrl.searchParams.set(\"clientId\", clientId);\n    if (ecosystem?.partnerId !== undefined) {\n        inAppWalletUrl.searchParams.set(\"partnerId\", ecosystem.partnerId);\n    }\n    if (ecosystem?.id !== undefined) {\n        inAppWalletUrl.searchParams.set(\"ecosystemId\", ecosystem.id);\n    }\n    return inAppWalletUrl;\n}\nconst IN_APP_WALLET_IFRAME_ID = \"thirdweb-in-app-wallet-iframe\";\n//# sourceMappingURL=InAppWalletIframeCommunicator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUU7QUFDZjtBQUNHO0FBQzdEO0FBQ0E7QUFDQTtBQUNPLDRDQUE0QyxzRUFBa0I7QUFDckU7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLCtCQUErQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyRUFBa0I7QUFDeEM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrRUFBWTtBQUM3QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1Q0FBdUMsa0RBQWtEO0FBQ2hHLHNDQUFzQyxLQUFLO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvci5qcz9jNDFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElOX0FQUF9XQUxMRVRfUEFUSCB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2NvbnN0YW50cy9zZXR0aW5ncy5qc1wiO1xuaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4uL1N0b3JhZ2UvTG9jYWxTdG9yYWdlLmpzXCI7XG5pbXBvcnQgeyBJZnJhbWVDb21tdW5pY2F0b3IgfSBmcm9tIFwiLi9JZnJhbWVDb21tdW5pY2F0b3IuanNcIjtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBJbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvciBleHRlbmRzIElmcmFtZUNvbW11bmljYXRvciB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBjbGllbnRJZCwgYmFzZVVybCwgZWNvc3lzdGVtLCB9KSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGlmcmFtZUlkOiBJTl9BUFBfV0FMTEVUX0lGUkFNRV9JRCArIChlY29zeXN0ZW0/LmlkIHx8IFwiXCIpLFxuICAgICAgICAgICAgbGluazogY3JlYXRlSW5BcHBXYWxsZXRJZnJhbWVMaW5rKHtcbiAgICAgICAgICAgICAgICBjbGllbnRJZCxcbiAgICAgICAgICAgICAgICBwYXRoOiBJTl9BUFBfV0FMTEVUX1BBVEgsXG4gICAgICAgICAgICAgICAgZWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgIGJhc2VVcmwsXG4gICAgICAgICAgICB9KS5ocmVmLFxuICAgICAgICAgICAgYmFzZVVybCxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogZG9jdW1lbnQuYm9keSxcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudElkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVjb3N5c3RlbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNsaWVudElkID0gY2xpZW50SWQ7XG4gICAgICAgIHRoaXMuZWNvc3lzdGVtID0gZWNvc3lzdGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBvbklmcmFtZUxvYWRlZEluaXRWYXJpYWJsZXMoKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsU3RvcmFnZSA9IG5ldyBMb2NhbFN0b3JhZ2Uoe1xuICAgICAgICAgICAgY2xpZW50SWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgICAgICAgICBlY29zeXN0ZW1JZDogdGhpcy5lY29zeXN0ZW0/LmlkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGF1dGhDb29raWU6IGF3YWl0IGxvY2FsU3RvcmFnZS5nZXRBdXRoQ29va2llKCksXG4gICAgICAgICAgICBkZXZpY2VTaGFyZVN0b3JlZDogYXdhaXQgbG9jYWxTdG9yYWdlLmdldERldmljZVNoYXJlKCksXG4gICAgICAgICAgICB3YWxsZXRVc2VySWQ6IGF3YWl0IGxvY2FsU3RvcmFnZS5nZXRXYWxsZXRVc2VySWQoKSxcbiAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudElkLFxuICAgICAgICAgICAgcGFydG5lcklkOiB0aGlzLmVjb3N5c3RlbT8ucGFydG5lcklkLFxuICAgICAgICAgICAgZWNvc3lzdGVtSWQ6IHRoaXMuZWNvc3lzdGVtPy5pZCxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyBUaGlzIGlzIHRoZSBVUkwgYW5kIElEIHRhZyBvZiB0aGUgaUZyYW1lIHRoYXQgd2UgY29tbXVuaWNhdGUgd2l0aFxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluQXBwV2FsbGV0SWZyYW1lTGluayh7IGNsaWVudElkLCBiYXNlVXJsLCBwYXRoLCBlY29zeXN0ZW0sIHF1ZXJ5UGFyYW1zLCB9KSB7XG4gICAgY29uc3QgaW5BcHBXYWxsZXRVcmwgPSBuZXcgVVJMKGAke3BhdGh9YCwgYmFzZVVybCk7XG4gICAgaWYgKHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgIGZvciAoY29uc3QgcXVlcnlLZXkgb2YgT2JqZWN0LmtleXMocXVlcnlQYXJhbXMpKSB7XG4gICAgICAgICAgICBpbkFwcFdhbGxldFVybC5zZWFyY2hQYXJhbXMuc2V0KHF1ZXJ5S2V5LCBxdWVyeVBhcmFtc1txdWVyeUtleV0/LnRvU3RyaW5nKCkgfHwgXCJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5BcHBXYWxsZXRVcmwuc2VhcmNoUGFyYW1zLnNldChcImNsaWVudElkXCIsIGNsaWVudElkKTtcbiAgICBpZiAoZWNvc3lzdGVtPy5wYXJ0bmVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbkFwcFdhbGxldFVybC5zZWFyY2hQYXJhbXMuc2V0KFwicGFydG5lcklkXCIsIGVjb3N5c3RlbS5wYXJ0bmVySWQpO1xuICAgIH1cbiAgICBpZiAoZWNvc3lzdGVtPy5pZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluQXBwV2FsbGV0VXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJlY29zeXN0ZW1JZFwiLCBlY29zeXN0ZW0uaWQpO1xuICAgIH1cbiAgICByZXR1cm4gaW5BcHBXYWxsZXRVcmw7XG59XG5leHBvcnQgY29uc3QgSU5fQVBQX1dBTExFVF9JRlJBTUVfSUQgPSBcInRoaXJkd2ViLWluLWFwcC13YWxsZXQtaWZyYW1lXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js\n"));

/***/ })

}]);